<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="éƒ½ä¼šå¥½çš„  æ€»ä¼šæœ‰çš„">
<meta property="og:type" content="website">
<meta property="og:title" content="Dunteng&#39;s Blog">
<meta property="og:url" content="https://dunteng.github.io/index.html">
<meta property="og:site_name" content="Dunteng&#39;s Blog">
<meta property="og:description" content="éƒ½ä¼šå¥½çš„  æ€»ä¼šæœ‰çš„">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Dunteng&#39;s Blog">
<meta name="twitter:description" content="éƒ½ä¼šå¥½çš„  æ€»ä¼šæœ‰çš„">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: 'GX48388M0Z',
      apiKey: '24910416df90ea04217402b818109cef',
      indexName: 'index',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://dunteng.github.io/">





  <title>Dunteng's Blog</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Dunteng's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            å…³äº
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dunteng.github.io/[object Object]2019/08/09/åšå®¢é¡¹ç›®01.html">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dunteng Lin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunteng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/[object Object]2019/08/09/åšå®¢é¡¹ç›®01.html" itemprop="url">ä¸€ã€åšå®¢é¡¹ç›®å¤§ä½œæˆ˜ä¹‹æ•°æ®åº“å»ºè¡¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-08-09T00:00:00+08:00">
                2019-08-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="åŠŸèƒ½åˆ†æ"><a href="#åŠŸèƒ½åˆ†æ" class="headerlink" title="åŠŸèƒ½åˆ†æ"></a>åŠŸèƒ½åˆ†æ</h2><p><img src="https://pic3.zhimg.com/v2-56d60579638b9a59ede77fb0fa3ecd2a_r.jpg" alt=""></p>
<p><br></p>
<h2 id="æŒä¹…å±‚ä¹‹æ•°æ®åº“å»ºè¡¨"><a href="#æŒä¹…å±‚ä¹‹æ•°æ®åº“å»ºè¡¨" class="headerlink" title="æŒä¹…å±‚ä¹‹æ•°æ®åº“å»ºè¡¨"></a>æŒä¹…å±‚ä¹‹æ•°æ®åº“å»ºè¡¨</h2><p>åˆ›å»ºæ•°æ®åº“<strong>my_blog</strong>ğŸ‘‡</p>
<p><img src="https://pic3.zhimg.com/v2-5cc8b67e76935f8d3ac1152b3835f902_r.jpg" alt=""></p>
<p><br></p>
<p>åˆ›å»ºè¡¨<strong>blog</strong>ğŸ‘‡</p>
<p>ç”¨äºå­˜å‚¨åšå®¢æ–‡ç« ï¼Œç‰¹åˆ«æ³¨æ„è¦è®¾ç½®ç¼–ç æ ¼å¼ä¸º<strong>utf8mb4</strong>ï¼Œå¦åˆ™emojiæ— æ³•æ­£å¸¸æ˜¾ç¤ºã€‚</p>
<p><code>views</code>ä¸ºæ–‡ç« æµè§ˆæ¬¡æ•°ï¼Œ<code>ctime</code>ä¸ºåˆ›å»ºæ—¶é—´ï¼Œ<code>utime</code>ä¸ºä¿®æ”¹æ—¶é—´ã€‚</p>
<p><img src="https://pic4.zhimg.com/v2-c29c1a6cfbae94644e9e9be24fc76467_r.jpg" alt=""></p>
<p>è®¾ç½®è¡¨çš„ç´¢å¼•ğŸ‘‡</p>
<p><img src="https://pic3.zhimg.com/v2-2e8103ce4cd64220a21c6fd873fc0cfe_r.jpg" alt=""></p>
<p><br></p>
<p>åˆ›å»ºè¡¨<strong>every_day</strong>ğŸ‘‡</p>
<p><img src="https://pic4.zhimg.com/v2-b6b7376a12907be6eecf759fd2f2af77_r.jpg" alt=""></p>
<p>è®¾ç½®ç´¢å¼•ğŸ‘‡</p>
<p><img src="https://pic3.zhimg.com/v2-0f8fc5b1803ee14ddee30b2941e9f172_r.jpg" alt=""></p>
<p><br></p>
<p>åˆ›å»ºè¡¨tagsğŸ‘‡</p>
<p><img src="https://pic2.zhimg.com/v2-2e9839df691ec4ea2714bd28a9968fed_r.jpg" alt=""></p>
<p>è®¾ç½®ç´¢å¼•ğŸ‘‡</p>
<p><img src="https://pic1.zhimg.com/v2-1f699976957e423bc457d1251d4f1c84_r.jpg" alt=""></p>
<p><br></p>
<p>åˆ›å»ºè¡¨tag_blog_mappingï¼ˆtagså’Œblogä¹‹é—´çš„æ˜ å°„è¡¨ï¼‰ğŸ‘‡</p>
<p><img src="https://pic3.zhimg.com/v2-0da154a08d9edc56cd79313b5ed2419e_r.jpg" alt=""></p>
<p>è®¾ç½®ç´¢å¼•ğŸ‘‡</p>
<p><img src="https://pic2.zhimg.com/v2-57572abfa8a419ba3b66a943cb10bb89_r.jpg" alt=""></p>
<p><br></p>
<p>åˆ›å»ºè¡¨commentsğŸ‘‡</p>
<p><img src="https://pic4.zhimg.com/v2-4d74bfe8b3e17764cdb3f9b169adf35f_r.jpg" alt=""></p>
<p>è®¾ç½®ç´¢å¼•ğŸ‘‡</p>
<p><img src="https://pic2.zhimg.com/v2-56e73521abea3d3b2fe61889ff4f082d_r.jpg" alt=""></p>
<p><br><br></p>
<p>åšå®¢é¡¹ç›®çš„æ•°æ®åº“è¡¨åŸºæœ¬åˆ›å»ºå®Œæˆã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dunteng.github.io/[object Object]2019/11/23/å°ç¨‹åºäº‘å‡½æ•°è·¯ç”±ä¼˜åŒ–ä¹‹tcb-router.html">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dunteng Lin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunteng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/[object Object]2019/11/23/å°ç¨‹åºäº‘å‡½æ•°è·¯ç”±ä¼˜åŒ–ä¹‹tcb-router.html" itemprop="url">å°ç¨‹åºäº‘å‡½æ•°è·¯ç”±ä¼˜åŒ–ä¹‹tcb-router</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-11-23T00:00:00+08:00">
                2019-11-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="èƒŒæ™¯ï¼š"><a href="#èƒŒæ™¯ï¼š" class="headerlink" title="èƒŒæ™¯ï¼š"></a>èƒŒæ™¯ï¼š</h2><p>ä¸€ä¸ªç”¨æˆ·åœ¨ä¸€ä¸ªäº‘ç¯å¢ƒä¸­åªèƒ½åˆ›å»º50ä¸ªäº‘å‡½æ•°ï¼Œä¹‹å‰æ˜¯20ä¸ªï¼Œæ›´å°‘ã€‚</p>
<p>æ¯”å¦‚æˆ‘ä»¬è¦å¼€å‘ä¸€ä¸ªé¡¹ç›®ï¼Œå½“æˆ‘ä»¬è¦è·å–Aæ•°æ®çš„æ—¶å€™å¯èƒ½è¦åˆ›å»ºä¸€ä¸ªäº‘å‡½æ•°ï¼Œè¦è·å–Bæ•°æ®çš„æ—¶å€™åˆè¦åˆ›å»ºä¸€ä¸ªäº‘å‡½æ•°ã€‚ã€‚ã€‚ã€‚éšç€ä¸šåŠ¡çš„å¢å¤šï¼Œåˆ›å»ºçš„å¯¹åº”çš„äº‘å‡½æ•°æ•°ç›®è¶Šæ¥è¶Šå¤šï¼Œ50ä¸ªå¯èƒ½ä¸å¤Ÿç”¨ï¼Œè€Œä¸”è¿™ç§åšæ³•ä¹Ÿå¾ˆå†—æ‚ã€‚</p>
<p>æ‰€ä»¥å¸Œæœ›æŠŠç›¸ä¼¼çš„è¯·æ±‚å½’ç±»åˆ°åŒä¸€ä¸ªäº‘å‡½æ•°å¤„ç†ï¼Œæ¯”å¦‚æˆ‘ä»¬æŠŠè·å–éŸ³ä¹ä¿¡æ¯å’Œè·å–ç”µå½±ä¿¡æ¯éƒ½åœ¨åŒä¸€ä¸ªäº‘å‡½æ•°é‡Œå®ç°ï¼Œä»è€Œé¿å…åˆ›å»ºè¿‡å¤šäº‘å‡½æ•°çš„æƒ…å†µã€‚</p>
<p>è¦å®ç°è¿™ä¸€åŠŸèƒ½å°±è¦ç”¨åˆ°ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“â€”â€”<a href="https://github.com/TencentCloudBase/tcb-router" target="_blank" rel="noopener"><strong>tcb-router</strong></a> ä¸€ä¸ª<strong>koaé£æ ¼</strong>çš„äº‘å‡½æ•°è·¯ç”±åº“ã€‚</p>
<p><br></p>
<h2 id="koaæ´‹è‘±æ¨¡å‹"><a href="#koaæ´‹è‘±æ¨¡å‹" class="headerlink" title="koaæ´‹è‘±æ¨¡å‹"></a>koaæ´‹è‘±æ¨¡å‹</h2><p>koaæ¡†æ¶é‡‡ç”¨äº†ã€ä¸­é—´ä»¶ã€‘çš„å½¢å¼ï¼Œä¸­é—´ä»¶å¯ä»¥ä»‹å…¥è¯·æ±‚å’Œç›¸åº”çš„å¤„ç†ï¼Œå¯ä»¥ç†è§£æ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ¨¡å—ï¼Œæˆ–è€…åœ¨æˆ‘ä»¬çš„ä»£ç å½“ä¸­æ˜¯ä¸€ä¸ªå‡½æ•°å½¢å¼ã€‚ä¸­é—´ä»¶å¯ä»¥è´Ÿè´£ä¸€ä¸ªç‰¹å®šçš„åŠŸèƒ½ï¼Œé€šè¿‡ä¸€ä¸ª<code>next</code>å‡½æ•°æŠŠæ¯ä¸ªä¸­é—´ä»¶ä¹‹é—´å»ºç«‹å…³ç³»ã€‚</p>
<p>ä»€ä¹ˆæ˜¯ã€æ´‹è‘±æ¨¡å‹ã€‘ï¼Ÿ</p>
<p><img src="https://ask.qcloudimg.com/http-save/yehe-1000017/uuitxvbg4y.jpeg?imageView2/2/w/1620" alt=""></p>
<p><img src="https://images0.cnblogs.com/blog2015/570057/201507/281409123445079.jpg" alt=""></p>
<p>ç®€å•çš„ç†è§£å°±å¦‚ä¸Šé¢ä¸¤å¼ å›¾æ‰€è¡¨ç¤ºçš„é‚£æ ·ã€‚</p>
<p><br></p>
<h2 id="tcbRouteräº‘å‡½æ•°"><a href="#tcbRouteräº‘å‡½æ•°" class="headerlink" title="tcbRouteräº‘å‡½æ•°"></a>tcbRouteräº‘å‡½æ•°</h2><p>è¿™é‡Œæˆ‘é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜ä¸€ä¸‹<a href="https://github.com/TencentCloudBase/tcb-router" target="_blank" rel="noopener"><strong>tcb-router</strong></a>çš„ç”¨æ³•ã€‚</p>
<p>æˆ‘ä»¬å®ç°ä¸€ä¸ªåŠŸèƒ½ï¼šæŠŠè·å–éŸ³ä¹ä¿¡æ¯å’Œè·å–ç”µå½±ä¿¡æ¯éƒ½åœ¨åŒä¸€ä¸ªäº‘å‡½æ•°é‡Œå®ç°ï¼Œä¸¤è€…éƒ½è¦è·å–<code>ç”¨æˆ·openid</code>å¹¶ä¸”è·å–å„è‡ªçš„ä¿¡æ¯ï¼Œä»è€Œé¿å…åˆ›å»ºå¤šä¸ªäº‘å‡½æ•°çš„æƒ…å†µã€‚</p>
<p>åˆ›å»ºäº‘å‡½æ•°<code>tcbRouter</code>ğŸ‘‡</p>
<p><img src="https://pic3.zhimg.com/80/v2-889713697407a747e014aeadc142866a_hd.jpg" alt=""></p>
<p>åœ¨tcbRouteräº‘å‡½æ•°çš„ç›®å½•ä¸‹å®‰è£…tcb-routerä¾èµ–ğŸ‘‡</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save tcb-router</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>äº‘å‡½æ•°<strong>tcbRouter</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// äº‘å‡½æ•°å…¥å£æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">const</span> cloud = <span class="built_in">require</span>(<span class="string">'wx-server-sdk'</span>)</span><br><span class="line"><span class="comment">// å¼•å…¥tcb-router</span></span><br><span class="line"><span class="keyword">const</span> TcbRouter = <span class="built_in">require</span>(<span class="string">'tcb-router'</span>)</span><br><span class="line"></span><br><span class="line">cloud.init()</span><br><span class="line"></span><br><span class="line"><span class="comment">// äº‘å‡½æ•°å…¥å£å‡½æ•°</span></span><br><span class="line">exports.main = <span class="keyword">async</span> (event, context) =&gt; &#123;</span><br><span class="line">  <span class="comment">// return &#123;event,context&#125;  //çœ‹çœ‹eventå’Œcontextåˆ°åº•æ˜¯å•¥</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// newä¸€ä¸ªTcbRouterå¯¹è±¡,éœ€è¦ä¼ å…¥ä¸€ä¸ªå‚æ•°,æŠŠeventä¼ å…¥</span></span><br><span class="line">  <span class="comment">// è¿™æ—¶å€™tcb-routerå°±ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬å¤„ç†äº‹ä»¶ä¸­çš„å‚æ•°å’Œè·¯ç”±è½¬å‘</span></span><br><span class="line">  <span class="keyword">const</span> app = <span class="keyword">new</span> TcbRouter(&#123;event&#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å…¬å…±è·¯ç”±</span></span><br><span class="line">  <span class="comment">// app.use è¡¨ç¤ºè¯¥ä¸­é—´ä»¶ä¼šé€‚ç”¨äºæ‰€æœ‰çš„è·¯ç”±</span></span><br><span class="line">  app.use(<span class="keyword">async</span> (ctx,next)=&gt;&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'è¿›å…¥å…¨å±€ä¸­é—´ä»¶'</span>)</span><br><span class="line">    ctx.data = &#123;&#125;</span><br><span class="line">    ctx.data.openId = event.userInfo.openId <span class="comment">//é€šè¿‡è¯¥å…¬å…±è·¯ç”±è·å–åˆ°ç”¨æˆ·openid</span></span><br><span class="line">    <span class="keyword">await</span> next()  <span class="comment">//æ‰§è¡Œä¸€ä¸‹ä¸­é—´ä»¶.è¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œ,è¦åŠ ä¸Šawait</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'é€€å‡ºå…¨å±€ä¸­é—´ä»¶'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// musicç›¸å…³çš„è·¯ç”±</span></span><br><span class="line">  app.router(<span class="string">'music'</span>, <span class="keyword">async</span> (ctx,next)=&gt;&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'è¿›å…¥éŸ³ä¹åç§°è·¯ç”±ä¸­é—´ä»¶'</span>)</span><br><span class="line">    ctx.data.musicName = <span class="string">"Let it be"</span></span><br><span class="line">    <span class="keyword">await</span> next()  <span class="comment">//æ‰§è¡Œä¸€ä¸‹ä¸­é—´ä»¶</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'é€€å‡ºéŸ³ä¹åç§°è·¯ç”±ä¸­é—´ä»¶'</span>)</span><br><span class="line">  &#125;, <span class="keyword">async</span> (ctx, next)=&gt;&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'è¿›å…¥éŸ³ä¹ç±»å‹è·¯ç”±ä¸­é—´ä»¶'</span>)</span><br><span class="line">    ctx.data.musicType = <span class="string">'æ‘‡æ»šä¹'</span></span><br><span class="line">    ctx.body = &#123;</span><br><span class="line">      data: ctx.data</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ctx.body è¿”å›æ•°æ®åˆ°å°ç¨‹åºç«¯</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'é€€å‡ºéŸ³ä¹ç±»å‹è·¯ç”±ä¸­é—´ä»¶'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// movieç›¸å…³çš„è·¯ç”±</span></span><br><span class="line">  app.router(<span class="string">'movie'</span>, <span class="keyword">async</span> (ctx,next)=&gt;&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'è¿›å…¥ç”µå½±åç§°è·¯ç”±ä¸­é—´ä»¶'</span>)</span><br><span class="line">    ctx.data.movieName = <span class="string">"åƒä¸åƒå¯»"</span></span><br><span class="line">    <span class="keyword">await</span> next()  <span class="comment">//æ‰§è¡Œä¸€ä¸‹ä¸­é—´ä»¶</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'é€€å‡ºç”µå½±åç§°è·¯ç”±ä¸­é—´ä»¶'</span>)</span><br><span class="line">  &#125;, <span class="keyword">async</span> (ctx, next)=&gt;&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'è¿›å…¥ç”µå½±ç±»å‹è·¯ç”±ä¸­é—´ä»¶'</span>)</span><br><span class="line">    ctx.data.movieType = <span class="string">'åŠ¨æ¼«'</span></span><br><span class="line">    ctx.body = &#123;</span><br><span class="line">      data: ctx.data</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ctx.body è¿”å›æ•°æ®åˆ°å°ç¨‹åºç«¯</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'é€€å‡ºç”µå½±ç±»å‹è·¯ç”±ä¸­é—´ä»¶'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// // å¿…é¡»å†™! éœ€è¦æŠŠå½“å‰çš„æœåŠ¡è¿”å›</span></span><br><span class="line">  <span class="keyword">return</span> app.serve()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>å°ç¨‹åºç«¯è°ƒç”¨tcbRouterå‡½æ•°ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//demo.js</span></span><br><span class="line">getMusicInfo()&#123;</span><br><span class="line">   wx.cloud.callFunction(&#123;</span><br><span class="line">     name: <span class="string">'tcbRouter'</span>,</span><br><span class="line">     data: &#123;</span><br><span class="line">       $url: <span class="string">'music'</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;).then(<span class="function">(<span class="params">res</span>)=&gt;</span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(res)</span><br><span class="line">   &#125;)</span><br><span class="line"> &#125;,</span><br><span class="line"> getMovieInfo()&#123;</span><br><span class="line">   wx.cloud.callFunction(&#123;</span><br><span class="line">     name: <span class="string">'tcbRouter'</span>,</span><br><span class="line">     data:&#123;</span><br><span class="line">       $url: <span class="string">'movie'</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;).then(<span class="function">(<span class="params">res</span>)=&gt;</span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(res)</span><br><span class="line">   &#125;)</span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢è¿™æ®µä»£ç ä¸¤ä¸ªæ–¹æ³•å®é™…ä¸Šè°ƒç”¨çš„éƒ½æ˜¯åŒä¸€ä¸ªäº‘å‡½æ•°<strong>tcbRouter</strong>ï¼Œä½†å®ç°äº†ä¸åŒçš„åŠŸèƒ½ã€‚</p>
<p><img src="https://pic1.zhimg.com/v2-928c9ce713a0d13a92d18d6abe21b910_r.jpg" alt=""></p>
<p><br></p>
<p>ä¸ºäº†æ›´åŠ ç›´è§‚çš„ä½“ç°ã€æ´‹è‘±æ¨¡å‹ã€‘è¿™ä¸€æ¦‚å¿µåœ¨è¯¥ä¾‹å­ä¸Šçš„åº”ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨äº‘å¼€å‘æ§åˆ¶å°çš„äº‘å‡½æ•°è¿è¡Œæ—¥å¿—ä¸­æŸ¥çœ‹æ‰“å°çš„æ—¥å¿—ğŸ‘‡</p>
<p><img src="https://pic3.zhimg.com/v2-0484ed79f891b5e7b2e82ad95296e6ca_r.jpg" alt=""></p>
<p><img src="https://images0.cnblogs.com/blog2015/570057/201507/281409123445079.jpg" alt=""></p>
<p><br><br><br></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dunteng.github.io/[object Object]2019/10/28/å¯¹è±¡.html">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dunteng Lin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunteng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/[object Object]2019/10/28/å¯¹è±¡.html" itemprop="url">å¤ä¹ å¯¹è±¡</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-10-28T00:00:00+08:00">
                2019-10-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="å¯¹è±¡åˆ›å»ºæ–¹æ³•"><a href="#å¯¹è±¡åˆ›å»ºæ–¹æ³•" class="headerlink" title="å¯¹è±¡åˆ›å»ºæ–¹æ³•"></a>å¯¹è±¡åˆ›å»ºæ–¹æ³•</h2><ul>
<li><p>å¯¹è±¡å­—é¢é‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123; &#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç³»ç»Ÿè‡ªå¸¦çš„æ„é€ å‡½æ•°Object()</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br></pre></td></tr></table></figure>
</li>
<li><p>è‡ªå®šä¹‰æ„é€ å‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸æ™®é€šå‡½æ•°åŒºåˆ«ï¼š1ã€å‡½æ•°åå¤§é©¼å³°å‘½åï¼›2ã€å®šä¹‰å±æ€§å’Œæ–¹æ³•ä¸ºçº¯è¯­å¥</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Teacher</span>(<span class="params">name, sex</span>) </span>&#123; <span class="comment">// ä¼ å…¥å‚æ•°-å•ä¸ªå±æ€§</span></span><br><span class="line">    <span class="comment">// å½“æ²¡æœ‰ç»è¿‡å…³é”®å­—newæ„é€ å‡½æ•°ï¼Œå°±è¿˜æ²¡æœ‰å®ä¾‹åŒ–ï¼Œæ­¤æ—¶thisä¸å­˜åœ¨</span></span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.sex = sex;</span><br><span class="line">    <span class="keyword">this</span>.age = <span class="number">25</span>; <span class="comment">// é»˜è®¤å±æ€§</span></span><br><span class="line">    <span class="keyword">this</span>.smoke = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'I am smoking'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> teacher = <span class="keyword">new</span> Teacher(<span class="string">'dunteng'</span>,<span class="string">'male'</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>Object.create()åˆ›å»ºå¯¹è±¡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">"xiaoming"</span>,</span><br><span class="line">  age: <span class="number">18</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// å°†objä½œä¸ºobj1çš„åŸå‹</span></span><br><span class="line"><span class="keyword">var</span> obj1 = <span class="built_in">Object</span>.create(obj)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><br><br></p>
<h2 id="æ„é€ å‡½æ•°çš„å†…éƒ¨åŸç†"><a href="#æ„é€ å‡½æ•°çš„å†…éƒ¨åŸç†" class="headerlink" title="æ„é€ å‡½æ•°çš„å†…éƒ¨åŸç†"></a>æ„é€ å‡½æ•°çš„å†…éƒ¨åŸç†</h2><ol>
<li>åœ¨å‡½æ•°ä½“æœ€å‰é¢éšå¼åœ°åŠ ä¸Š<code>this={}</code></li>
<li>æ‰§è¡Œ<code>this.xxx = xxx;</code></li>
<li>éšå¼åœ°è¿”å›<code>this</code></li>
</ol>
<p>æ„é€ å‡½æ•°èƒ½æ„é€ å‡ºå¯¹è±¡çš„å‰ææ˜¯è¦newå®ƒï¼ä»è€Œè§¦å‘æ„é€ å‡½æ•°çš„å†…éƒ¨åŸç†ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,height</span>)</span>&#123;</span><br><span class="line">  <span class="comment">// var this =&#123;&#125;</span></span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.height = height;</span><br><span class="line">  <span class="keyword">this</span>.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.say);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// return this</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">'xiaolin'</span>,<span class="number">180</span>);</span><br></pre></td></tr></table></figure>
<p>âš æ¥ç‚¹æ£ä¹±çš„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, height</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.height = height;</span><br><span class="line">  <span class="keyword">this</span>.say = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.say);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123;&#125;;<span class="comment">//è¿”å›ä¸€ä¸ªç©ºå¯¹è±¡</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">'xiaolin'</span>, <span class="number">180</span>);</span><br></pre></td></tr></table></figure>
<p>ç»“æœpersonçš„å€¼å°±å˜æˆäº†returnå‡ºæ¥çš„ç©ºå¯¹è±¡ã€‚</p>
<p>åœ¨æ„é€ å‡½æ•°å†…éƒ¨å…è®¸æ˜¾ç¤ºåœ°returnå‡ºä¸€ä¸ªå¯¹è±¡ï¼ˆç©ºå¯¹è±¡ä¹Ÿå¥½å…¶ä»–å¯¹è±¡ä¹Ÿå¥½ï¼‰ï¼Œåˆ™newå‡ºæ¥çš„å®ä¾‹ç»“æœå°±æ˜¯å¯¹åº”çš„å¯¹è±¡ã€‚âš ä½†æ˜¯å¦‚æœæ˜¯æ˜¾ç¤ºreturnå‡ºæ•°å­—ã€å­—ç¬¦ä¸²ã€undefinedæˆ–è€…nullï¼Œå³returnçš„æ˜¯äº”å¤§åŸå§‹å€¼ï¼Œåˆ™newå‡ºå®ä¾‹çš„æ—¶å€™ä»ç„¶æ˜¯returnè¯­å¥å‰é¢æ„é€ å‡ºæ¥çš„thiså¯¹è±¡ï¼</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570849572989.png" alt="1570849572989"></p>
<p><br><br></p>
<h2 id="åŒ…è£…ç±»"><a href="#åŒ…è£…ç±»" class="headerlink" title="åŒ…è£…ç±»"></a>åŒ…è£…ç±»</h2><p><strong>åŸå§‹å€¼æ˜¯ä¸èƒ½æœ‰å±æ€§å’Œæ–¹æ³•çš„</strong>ã€‚</p>
<p>çœ‹ä¸‹é¢ğŸ‘‡</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570850068707.png" alt="1570850068707"></p>
<p>è¿™é‡Œçš„numä¾ç„¶æ˜¯æ•°å­—ï¼Œä½†æ˜¯å®ƒæ˜¯ç”¨<strong>åŒ…è£…ç±»</strong>Number newå‡ºæ¥çš„æ•°å­—å¯¹è±¡ï¼Œé‚£ä¹ˆ<strong>å®ƒå°±å¯ä»¥åŠ å±æ€§å’Œæ–¹æ³•</strong>ã€‚åŒæ—¶å®ƒä¾æ—§å¯ä»¥è¿ç®—ï¼Œä½†æ˜¯è¿ç®—ç»“æœæ˜¯åŸå§‹å€¼çš„æ•°å­—ã€‚</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570850243772.png" alt="1570850243772"></p>
<p>åŒæ ·çš„ä¹Ÿæœ‰:</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570850309748.png" alt="1570850309748"></p>
<p>å‰é¢è¯´äº†åŸå§‹å€¼ä¸èƒ½æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œé‚£ä¹ˆçœ‹ä¸‹é¢çš„æ —å­ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">4</span>;</span><br><span class="line">num.len = <span class="number">3</span>;</span><br><span class="line"><span class="built_in">console</span>.log(num.len);</span><br></pre></td></tr></table></figure>
<p>æ‰“å°ç»“æœä¸ºundefinedï¼Œä¹Ÿä¸æŠ¥é”™ã€‚åŸå› æ˜¯å­˜åœ¨åŒ…è£…ç±»çš„éšå¼è°ƒç”¨ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">4</span>;</span><br><span class="line">num.len = <span class="number">3</span>;</span><br><span class="line"><span class="comment">// åŸå§‹å€¼æ˜¯ä¸èƒ½æœ‰å±æ€§å’Œæ–¹æ³•çš„ï¼Œä½†æ˜¯åœ¨è¿™é‡Œç³»ç»Ÿä¼šè‡ªåŠ¨æ‰§è¡Œï¼šnew Number(num).len = 3ä»¥é¿å…æŠ¥é”™</span></span><br><span class="line"><span class="comment">// ä½†éšå³åˆdeleteè‡ªå·±ã€‚å³åˆšnewå®ŒNumberéšæœºå°±æŠŠè‡ªå·±åˆ äº†</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç„¶ååœ¨console.log(num.len)çš„æ—¶å€™ï¼Œè®²é“ç†num.lenå·²ç»ä¸å­˜åœ¨äº†ä¼šæŠ¥é”™çš„</span></span><br><span class="line"><span class="comment">// ä½†æ˜¯ç³»ç»Ÿä¸ºäº†é¿å…æŠ¥é”™åˆéšå¼åœ°æ‰§è¡Œäº†new Number(num).lenï¼Œæ‰€ä»¥ç»“æœä¸ºè¾“å‡ºundefined</span></span><br><span class="line"><span class="built_in">console</span>.log(num.len);</span><br></pre></td></tr></table></figure>
<p><br></p>
<hr>

<p>å¯¹äºæ•°ç»„ï¼Œæœ‰ä»¥ä¸‹çš„å¯è¡Œæ“ä½œï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">arr.length = <span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//[1,2]</span></span><br></pre></td></tr></table></figure>
<p>æ•°ç»„æ˜¯å¯ä»¥é€šè¿‡lengthæ¥æˆªæ–­çš„ï¼Œä½†å­—ç¬¦ä¸²ä¸è¡Œï¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"1234"</span>;</span><br><span class="line">str.length = <span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str);<span class="comment">//"1234"</span></span><br></pre></td></tr></table></figure>
<p>åˆ†æï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"1234"</span>;</span><br><span class="line">str.length = <span class="number">2</span>;</span><br><span class="line"><span class="comment">// æ‰§è¡Œåˆ°str.length = 2çš„æ—¶å€™ç³»ç»Ÿéšå¼åœ°æ‰§è¡Œäº†new Number(str).length=2,</span></span><br><span class="line"><span class="comment">// ä»¥é¿å…æŠ¥é”™ï¼Œä½†éšæœºå°±é”€æ¯äº†</span></span><br><span class="line"><span class="built_in">console</span>.log(str);<span class="comment">//"1234"</span></span><br><span class="line"><span class="comment">// æ‰§è¡Œconsole.log(str.length)çš„æ—¶å€™ç³»ç»Ÿéšå¼åœ°æ‰§è¡Œäº†new Number(str).lengthï¼Œ</span></span><br><span class="line"><span class="comment">// è€Œlengthæ˜¯Stringç±»å‹å†…ç½®çš„å±æ€§ï¼Œå¯ä»¥è®¿é—®</span></span><br><span class="line"><span class="built_in">console</span>.log(str.length);<span class="comment">//4</span></span><br></pre></td></tr></table></figure>
<p><br></p>
<hr>

<p><strong>æ¥ç»ƒç»ƒ</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"abc"</span>;</span><br><span class="line">str += <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> test = <span class="keyword">typeof</span> (str);</span><br><span class="line"><span class="keyword">if</span> (test.length == <span class="number">6</span>) &#123;</span><br><span class="line">  test.sign = <span class="string">"hello world"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(test.sign);</span><br></pre></td></tr></table></figure>
<p>åˆ†æå¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"abc"</span>;</span><br><span class="line">str += <span class="number">1</span>;  <span class="comment">//strå˜æˆäº†"abc1"</span></span><br><span class="line"><span class="keyword">var</span> test = <span class="keyword">typeof</span> (str);  <span class="comment">//testä¸º"string"</span></span><br><span class="line"><span class="keyword">if</span> (test.length == <span class="number">6</span>) &#123;</span><br><span class="line">  test.sign = <span class="string">"hello world"</span>;<span class="comment">//testæ˜¯å­—ç¬¦ä¸²ï¼ŒåŸå§‹å€¼ä¸èƒ½æœ‰å±æ€§ï¼Œéšå¼åœ°æ‰§è¡Œ</span></span><br><span class="line">  <span class="comment">//new Number(test).sign="hello world"ï¼Œéšå³é”€æ¯</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//éšå¼åœ°æ‰§è¡ŒåŒ…è£…ç±»è½¬æ¢ï¼šnew Number(test).signï¼Œéšå³é”€æ¯</span></span><br><span class="line"><span class="built_in">console</span>.log(test.sign);<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>
<p><br></p>
<p>åŒé—­åŒ…çŸ¥è¯†ç‚¹ç»“åˆçš„ä¸€é¢˜ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, sex</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">  <span class="keyword">this</span>.sex = sex;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">sss</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    a++;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">this</span>.say = sss;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</span><br><span class="line">person1.say();</span><br><span class="line">person1.say();</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person();</span><br><span class="line">person2.say();</span><br></pre></td></tr></table></figure>
<p><br><br></p>
<h2 id="åŸå‹prototype"><a href="#åŸå‹prototype" class="headerlink" title="åŸå‹prototype"></a>åŸå‹prototype</h2><ul>
<li><p>å®šä¹‰ï¼š åŸå‹æ˜¯functionå¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼Œå®ƒå®šä¹‰äº†æ„é€ å‡½æ•°åˆ¶é€ å‡ºçš„å¯¹è±¡çš„å…¬å…±ç¥–å…ˆã€‚é€šè¿‡è¯¥æ„é€ å‡½æ•°äº§ç”Ÿçš„å¯¹è±¡ï¼Œå¯ä»¥ç»§æ‰¿åŸå‹çš„å±æ€§å’Œæ–¹æ³•ã€‚åŸå‹ä¹Ÿæ˜¯å¯¹è±¡ã€‚</p>
</li>
<li><p>åˆ©ç”¨åŸå‹ç‰¹ç‚¹å’Œæ¦‚å¿µï¼Œå¯ä»¥æå–å…±æœ‰å±æ€§</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Car.prototype.height = <span class="number">1400</span>;</span><br><span class="line">Car.prototype.lang = <span class="number">4900</span>;</span><br><span class="line">Car.prototype.carName = <span class="string">"BMW"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">color, owner</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.owner = owner;</span><br><span class="line">  <span class="keyword">this</span>.color = color;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">var</span> car = <span class="keyword">new</span> Car(<span class="string">'red'</span>, <span class="string">'dunteng'</span>)</span><br><span class="line"><span class="keyword">var</span> car = <span class="keyword">new</span> Car(<span class="string">'pink'</span>, <span class="string">'xiaolin'</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯¹è±¡å¦‚ä½•æŸ¥çœ‹åŸå‹   é€šè¿‡éšå¼å±æ€§<code>__proto__</code></p>
<p>â€‹    è®¿é—®å¯¹è±¡å®ä¾‹çš„å±æ€§çš„æ—¶å€™ï¼Œå…ˆæŸ¥çœ‹å®ä¾‹å¯¹è±¡è‡ªå·±æœ‰æ²¡æœ‰ï¼Œæ²¡æœ‰çš„è¯å°±é€šè¿‡å®ƒçš„éšå¼å±æ€§<code>__proto__</code>æŸ¥çœ‹åŸå‹é‡Œæœ‰æ²¡æœ‰è¿™ä¸ªå±æ€§ã€‚</p>
<p>ğŸ’¡  <code>å¯¹è±¡å®ä¾‹.__proto__</code>å…¨ç­‰äº<code>å¯¹è±¡æ„é€ å‡½æ•°.prototype</code></p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570862901392.png" alt="1570862901392"></p>
</li>
</ul>
<p>  <img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570863065304.png" alt="1570863065304"></p>
<ul>
<li><p>å¯¹è±¡å¦‚ä½•æŸ¥çœ‹å¯¹è±¡çš„æ„é€ å‡½æ•°   é€šè¿‡<code>constructor</code></p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570863239261.png" alt="1570863239261"></p>
<p>constructorå­˜åœ¨äºåŸå‹ä¸­ã€‚</p>
</li>
</ul>
<p><br><hr></p>
<p>çœ‹å…¸ä¾‹ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Person.prototype.name = <span class="string">"sunny"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="built_in">console</span>.log(person.name);  <span class="comment">//"sunny"</span></span><br><span class="line"></span><br><span class="line">Person.prototype.name = <span class="string">"jenny"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person.name);  <span class="comment">//"jenny"</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢è¿™ä¸ªå¾ˆå®¹æ˜“ç†è§£ï¼Œä½†ä¸‹é¢æ”¹ä¸€ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Person.prototype.name = <span class="string">"sunny"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="comment">// åœ¨newçš„æ—¶å€™å­˜åœ¨ä¸€ä¸ªéšå¼è¿‡ç¨‹ğŸ‘‡</span></span><br><span class="line"><span class="comment">// function Person() &#123;</span></span><br><span class="line"><span class="comment">// var this = &#123;</span></span><br><span class="line"><span class="comment">//   __proto__: Person.prototype   ç”¨__proto__è®°å½•äº†Person.prototypeçš„åœ°å€</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(person.name);  <span class="comment">//"sunny"</span></span><br><span class="line"></span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">  name: <span class="string">'jenny'</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// å°†Person.prototypeé‡æ–°æŒ‡å‘äº†ä¸€ä¸ªæ–°çš„ç©ºé—´ï¼Œè€Œpersonä½œä¸ºnewå‡ºæ¥çš„å®ä¾‹æ˜¯é€šè¿‡__proto__æŸ¥æ‰¾</span></span><br><span class="line"><span class="comment">// åŸå‹çš„ï¼Œ__proto__ä¸­è®°å½•çš„ä¸œè¥¿å¹¶æ²¡æœ‰æ”¹å˜ï¼Œä»æŒ‡å‘åŸæ¥çš„Person.prototypedç©ºé—´</span></span><br><span class="line"><span class="built_in">console</span>.log(person.name);  <span class="comment">//"sunny"</span></span><br></pre></td></tr></table></figure>
<p><br><br></p>
<h2 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="headerlink" title="åŸå‹é“¾"></a>åŸå‹é“¾</h2><p>åŸå‹ä¹Ÿæœ‰è‡ªå·±çš„åŸå‹ï¼Œå°±å½¢æˆäº†åŸå‹é“¾ã€‚åŸå‹é“¾çš„ç»ˆç«¯æ˜¯Object.prototypeã€‚å¯ä»¥è¯´<strong>ç»å¤§å¤šæ•°</strong>å¯¹è±¡çš„æœ€ç»ˆéƒ½ä¼šç»§æ‰¿è‡ªObject.prototypeã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">GrandFather.prototype.lastName = <span class="string">"wang"</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GrandFather</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">"ç¥–çˆ¶"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> grandfather = <span class="keyword">new</span> GrandFather();</span><br><span class="line"></span><br><span class="line">Father.prototype = grandfather;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">"çˆ¶äº²"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> father = <span class="keyword">new</span> Father();</span><br><span class="line"></span><br><span class="line">Son.prototype = father;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">"å„¿å­"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> son = <span class="keyword">new</span> Son();</span><br><span class="line"><span class="built_in">console</span>.log(son.lastName);<span class="comment">//"wang"</span></span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570865370449.png" alt="1570865370449"></p>
<hr>

<p>å‰é¢æœ‰æåˆ°ã€ç»å¤§å¤šæ•°çš„å¯¹è±¡æœ€ç»ˆéƒ½ç»§æ‰¿è‡ªObject.prototypeã€‘ï¼Œé‚£ä¹ˆä»€ä¹ˆå¯¹è±¡ä¾‹å¤–å‘¢ï¼Ÿ</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570866805009.png" alt="1570866805009"></p>
<hr>

<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570867335732.png" alt="1570867335732"></p>
<p>åŸå§‹å€¼çš„123æ˜¯æ²¡æœ‰æ–¹æ³•çš„ï¼Œæ‰€ä»¥è¦ç”¨åŒ…è£…ç±»åŒ…è£…æˆNumberç±»å‹ï¼Œå†è°ƒç”¨toStringæ–¹æ³•ï¼Œæ³¨æ„è¿™é‡Œçš„toStringæ–¹æ³•æ˜¯Number()è‡ªå·±é‡å†™çš„ï¼Œä¸æ˜¯Object()çš„toStringï¼ŒObject()çš„toString()æ‰“å°å‡ºæ¥çš„æ˜¯<code>[Object, Object]</code></p>
<p><br><br></p>
<h2 id="call-apply"><a href="#call-apply" class="headerlink" title="call/apply"></a>call/apply</h2><p>ä½œç”¨ï¼š éƒ½èƒ½æ”¹å˜<code>this</code>æŒ‡å‘</p>
<p>åŒºåˆ«ï¼š åé¢ä¼ é€’çš„å‚æ•°å½¢å¼ä¸åŒ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person(<span class="string">'lin'</span>, <span class="number">18</span>);</span><br><span class="line"><span class="comment">// è¿™é‡Œç›´æ¥è°ƒç”¨Personå‡½æ•°å°±æ²¡æŠŠå®ƒå½“ä½œæ„é€ å‡½æ•°newäº†ï¼Œé‡Œé¢çš„thiså°±æŒ‡å‘å…¨å±€window</span></span><br><span class="line"><span class="built_in">console</span>.log(name);</span><br><span class="line"><span class="built_in">console</span>.log(age);</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œè¯´ä¸€ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test()å®é™…ä¸Šæ˜¯test.call()</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>call</code>æ”¹å˜thisæŒ‡å‘ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">Person.call(obj, <span class="string">'lin'</span>, <span class="number">18</span>);</span><br><span class="line"><span class="built_in">console</span>.log(obj);<span class="comment">//objé‡Œé¢ageä¸º18ï¼Œnameä¸ºlin</span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œä½¿ç”¨callå°†thisçš„æŒ‡å‘æ”¹å˜æˆäº†objï¼Œæˆ–è€…è¯´è¿™é‡Œå°±æŠŠå¯¹è±¡<code>obj</code>æ‹¿æ¥å–ä»£äº†thisï¼Œæˆ–è€…è¯´thiså°±æˆäº†objã€‚</p>
<p>æ¥ä¸ªåº”ç”¨æ —å­ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">  <span class="keyword">this</span>.sex = sex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name, age, sex, tel, grade</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">  <span class="keyword">this</span>.sex = sex;</span><br><span class="line">  <span class="keyword">this</span>.tel = tel;</span><br><span class="line">  <span class="keyword">this</span>.grade = grade;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> student = <span class="keyword">new</span> Student(<span class="string">'lin'</span>, <span class="number">18</span>, <span class="string">'male'</span>, <span class="number">137</span>, <span class="number">6</span>)</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·<strong>ä»£ç å¤ªå†—ä½™</strong>äº†ï¼Œç”¨callæ–¹æ³•æ”¹è¿›ä¸€ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">  <span class="keyword">this</span>.sex = sex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name, age, sex, tel, grade</span>) </span>&#123;</span><br><span class="line">  Person.call(<span class="keyword">this</span>, name, age, sex)</span><br><span class="line">    <span class="comment">//ä¸Šé¢ç»“æŸåå®é™…ä¸Š å°±æœ‰ä¸€ä¸ª this = &#123;name:'lin',age:'18',sex:'male' &#125; </span></span><br><span class="line">  <span class="keyword">this</span>.tel = tel;</span><br><span class="line">  <span class="keyword">this</span>.grade = grade;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> student = <span class="keyword">new</span> Student(<span class="string">'lin'</span>, <span class="number">18</span>, <span class="string">'male'</span>, <span class="number">137</span>, <span class="number">6</span>)</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>calléœ€è¦æŠŠå®å‚æŒ‰ç…§å½¢å‚çš„ä¸ªæ•°ä¸€ä¸ªä¸ªä¼ è¿›å»ï¼Œ</p>
<p>applyéœ€è¦ä¼ å…¥ä¸€ä¸ªå®å‚æ•°ç»„</p>
<p>å†æ¥ä¸ªæ —å­ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Wheel</span>(<span class="params">WheelSize, style</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.WheelSize = WheelSize;</span><br><span class="line">  <span class="keyword">this</span>.style = style;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Sit</span>(<span class="params">c, sitColor</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.c = c;</span><br><span class="line">  <span class="keyword">this</span>.sitColor = sitColor</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Model</span>(<span class="params">height, width, len</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.height = height;</span><br><span class="line">  <span class="keyword">this</span>.width = width;</span><br><span class="line">  <span class="keyword">this</span>.len = len;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">WheelSize, style, c, sitColor, height, width, len</span>) </span>&#123;</span><br><span class="line">  Wheel.apply(<span class="keyword">this</span>, [WheelSize, style]);</span><br><span class="line">  Sit.apply(<span class="keyword">this</span>, [c, sitColor]);</span><br><span class="line">  Model.apply(<span class="keyword">this</span>, [height, width, len])</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> myCar = <span class="keyword">new</span> Car(<span class="number">100</span>, <span class="string">'èŠ±é‡Œèƒ¡å“¨'</span>, <span class="string">'çœŸçš®'</span>, <span class="string">'red'</span>, <span class="number">1800</span>, <span class="number">1900</span>, <span class="number">4900</span>)</span><br><span class="line"><span class="built_in">console</span>.log(myCar);</span><br></pre></td></tr></table></figure>
<p><br><br></p>
<h2 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h2><p>ç»§æ‰¿å‘å±•å²ï¼š</p>
<ol>
<li><p>åŸå‹é“¾</p>
<p>ç¼ºç‚¹ï¼šè¿‡å¤šçš„ç»§æ‰¿äº†æ²¡ç”¨çš„å±æ€§<br></p>
</li>
<li><p>å€Ÿç”¨æ„é€ å‡½æ•°+call/apply</p>
<p>æˆ‘ä¸Šé¢è®²call/applyçš„ä¸¤ä¸ªæ —å­å°±æ˜¯</p>
<p>ç¼ºç‚¹ï¼šæ— æ³•ç»§æ‰¿å€Ÿç”¨æ¥çš„æ„é€ å‡½æ•°çš„åŸå‹ï¼Œè€Œä¸”ä¸æ–¹ä¾¿ã€‚<br></p>
</li>
<li><p>å…±æœ‰åŸå‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Father.prototype.lastName = <span class="string">"xi"</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inherit</span>(<span class="params">Target, Origin</span>) </span>&#123;</span><br><span class="line">  Target.prototype = Origin.prototype;</span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line">inherit(Son, Father);<span class="comment">//ä¸€å®šè¦å…ˆç»§æ‰¿å†å®šä¹‰å“¦</span></span><br><span class="line"><span class="keyword">var</span> son = <span class="keyword">new</span> Son();</span><br></pre></td></tr></table></figure>
<p>è¿™ç§åšæ³•æœ‰<strong>ç¼ºç‚¹</strong>ï¼Œå¦‚æœæƒ³è¦ç»™Sonå¯¹è±¡çš„åŸå‹æ·»åŠ äº›å±æ€§ï¼Œé‚£ä¹ˆå¾ˆä¸å¥½çš„äº‹ï¼ŒFatherå¯¹è±¡å¹¶ä¸éœ€è¦è¿™äº›å±æ€§ï¼Œå› ä¸ºè¦çŸ¥é“ï¼Œå®ƒä¿©çš„åŸå‹æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªã€‚<br></p>
</li>
<li><p>åœ£æ¯æ¨¡å¼ </p>
<p>å€Ÿç”¨ä¸€ä¸ªä¸­é—´å±‚ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inherit</span>(<span class="params">Target, Origin</span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line">  F.prototype = Origin.prototype;<span class="comment">//è¿™è¡Œå’Œä¸‹ä¸€è¡Œé¡ºåºä¸€å®šä¸èƒ½è°ƒæ¢ï¼Œå¦åˆ™å°±é”™äº†</span></span><br><span class="line">  Target.prototype = <span class="keyword">new</span> F();  <span class="comment">//Fä½œä¸ºä¸­é—´å±‚ï¼Œè¿™æ ·å°±ç®—Targetä¼šä¿®æ”¹åŸå‹ï¼Œä¹Ÿåªæ˜¯ä¿®æ”¹äº†Fï¼Œå½±å“ä¸åˆ°Origin</span></span><br><span class="line">  Target.prototype.constructor = Target;  <span class="comment">//æ‰‹åŠ¨æ·»åŠ æ„é€ å™¨constructor</span></span><br><span class="line">  Target.prototype.uber = Origin.prototype; <span class="comment">//è®°å½•çœŸå®çš„åŸå‹</span></span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line">Father.prototype = &#123;</span><br><span class="line">  lastName: <span class="string">'Lin'</span></span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line">inherit(Son, Father);</span><br><span class="line"><span class="keyword">var</span> son = <span class="keyword">new</span> Son();</span><br><span class="line"><span class="keyword">var</span> father = <span class="keyword">new</span> Father();</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570887149405.png" alt="1570887149405"></p>
<p>ä¸Šé¢è¿™ä¸ªç»§æ‰¿è¿˜å¯ä»¥å†ä¼˜åŒ–ä¸€ä¸‹ï¼Œä½¿ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°å’Œé—­åŒ…æ¥ä¼˜åŒ–ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">var</span> inherit = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="keyword">var</span> F = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; &#125;;</span><br><span class="line">     <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">Target, Origin</span>) </span>&#123;</span><br><span class="line">       F.prototype = Origin.prototype;</span><br><span class="line">       Target.prototype = <span class="keyword">new</span> F();</span><br><span class="line">       Target.prototype.constructor = Target;</span><br><span class="line">       Target.prototype.uber = Origin.prototype;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;())<span class="comment">//æ•´ä¸ªæ˜¯ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œå³ç”¨å³é”€æ¯ï¼Œä¼˜åŒ–æ€§èƒ½</span></span><br><span class="line"><span class="comment">//inherité‡Œé¢çš„Fé€šè¿‡é—­åŒ…ä¿å­˜æˆäº†inheritçš„ç§æœ‰åŒ–å±æ€§ï¼Œæ›´åŠ ä¼˜åŒ–</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line">   Father.prototype = &#123;</span><br><span class="line">     lastName: <span class="string">'lin'</span></span><br><span class="line">   &#125;</span><br><span class="line">   inherit(Son, Father)</span><br><span class="line">   <span class="keyword">var</span> father = <span class="keyword">new</span> Father();</span><br><span class="line">   <span class="keyword">var</span> son = <span class="keyword">new</span> Son();</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><br><br></p>
<h2 id="å‘½åç©ºé—´"><a href="#å‘½åç©ºé—´" class="headerlink" title="å‘½åç©ºé—´"></a>å‘½åç©ºé—´</h2><p>ç®¡ç†å˜é‡ï¼Œé˜²æ­¢æ±¡æŸ“å…¨å±€ï¼Œé€‚ç”¨äºæ¨¡å—åŒ–å¼€å‘ã€‚</p>
<p>ä¼ ç»Ÿçš„æ–¹æ³•æ˜¯ç”¨å¯¹è±¡åŒ…èµ·æ¥å½¢æˆä¸“æœ‰çš„å‘½åç©ºé—´ï¼Œç”¨çš„æ—¶å€™å°±é€šè¿‡xxx.xxxx.xxxè¿™æ ·çš„æ–¹å¼è®¿é—®ã€‚</p>
<p>è§£å†³æ–¹å¼ï¼šä½¿ç”¨<strong>ç«‹å³æ‰§è¡Œå‡½æ•°å’Œé—­åŒ…</strong></p>
<p>æ —å­ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">var</span> init = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="keyword">var</span> name = <span class="string">'abc'</span>;</span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">callName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(name);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">       callName();</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="keyword">var</span> _init = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="keyword">var</span> name = <span class="string">'def'</span>;</span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">callName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(name);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">       callName();</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;)()</span><br><span class="line">   </span><br><span class="line">   init();</span><br><span class="line">_init();</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢è¿™ä¸¤ä¸ªå‡½æ•°å˜é‡å‘½åäº’ä¸å½±å“ï¼Œå› ä¸ºéƒ½å­˜åœ¨äºç«‹å³æ‰§è¡Œå‡½æ•°é‡Œé¢ï¼Œè€Œå˜é‡è¢«é—­åŒ…ä¿å­˜returnå¸¦å‡ºæ¥ã€‚<strong>å®ç°æ¨¡å—å¼€å‘ï¼Œé˜²æ­¢æ±¡æŸ“å…¨å±€å˜é‡</strong></p>
<p><br><br></p>
<h2 id="å¯¹è±¡çš„éå†"><a href="#å¯¹è±¡çš„éå†" class="headerlink" title="å¯¹è±¡çš„éå†"></a>å¯¹è±¡çš„éå†</h2><p>å¯¹è±¡éå†ä¸å¯èƒ½åƒéå†æ•°ç»„é‚£æ ·forå¾ªç¯ï¼Œå› ä¸ºæ ¹æœ¬ä¸çŸ¥é“å¯¹è±¡çš„â€œé•¿åº¦â€</p>
<p>æ‰€ä»¥è¦ä½¿ç”¨<code>for key in obj</code>çš„æ–¹æ³•ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'lin'</span>,</span><br><span class="line">  age: <span class="number">12</span>,</span><br><span class="line">  sex: <span class="string">"male"</span>,</span><br><span class="line">  height: <span class="number">180</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(obj[key]);<span class="comment">//è¿™é‡Œçš„æ¯ä¸€ä¸ªkeyæœ¬èº«éƒ½æ˜¯Stringç±»å‹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬çŸ¥é“<code>obj.xxx</code>å’Œ<code>obj[&#39;xxx&#39;]</code>éƒ½å¯ä»¥è®¿é—®åˆ°å¯¹è±¡å±æ€§ï¼Œä½†æ˜¯åœ¨<code>for key in obj</code>å¾ªç¯é‡Œå¿…é¡»åä¸€ç”¨<code>obj[&#39;xxx&#39;]</code>çš„æ–¹å¼è®¿é—®ï¼Œ<code>obj.xxx</code>è¾“å‡ºçš„ä¸ºundefined</p>
<p><code>obj.name</code>å®é™…ä¸Šæœ¬è´¨ä¼šå…ˆè½¬åŒ–ä¸º<code>obj[&#39;name&#39;]</code>ï¼Œç´¢å¼•æ¡†é‡Œå¿…é¡»æ˜¯å­—ç¬¦ä¸²ç±»å‹ã€‚</p>
<p>åœ¨ä¸Šé¢ä»£ç ä¸­å¦‚æœä½¿ç”¨<code>obj.xxx</code>çš„æ–¹å¼çš„è¯ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'lin'</span>,</span><br><span class="line">  age: <span class="number">12</span>,</span><br><span class="line">  sex: <span class="string">"male"</span>,</span><br><span class="line">  height: <span class="number">180</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(obj.key);<span class="comment">//è¿™é‡Œå˜æˆäº†obj['key'],å¯æ˜¯objä¸­æ²¡æœ‰keyè¿™ä¸ªé”®ï¼Œæ‰€ä»¥undefined</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>

<p><code>for key in obj</code>å¯ä»¥éå†å‡ºåŸå‹é‡Œçš„ä¸œè¥¿å—ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼ˆé™¤äº†Object.prototypeï¼‰ã€‚</p>
<p>ä½†æ˜¯æˆ‘å°±åªæƒ³éå†å‡ºç›®æ ‡å¯¹è±¡è‡ªå·±çš„å±æ€§ï¼Œæ€ä¹ˆåšï¼Ÿ</p>
<p><strong>åˆ©ç”¨<code>hasOwnProperty(xxx)</code>æ–¹æ³•æ¥åˆ¤æ–­<code>xxx</code>æ˜¯ä¸æ˜¯objè‡ªèº«çš„å±æ€§ã€‚</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'lin'</span>,</span><br><span class="line">  age: <span class="number">12</span>,</span><br><span class="line">  sex: <span class="string">"male"</span>,</span><br><span class="line">  height: <span class="number">180</span>,</span><br><span class="line">  __proto__: &#123;</span><br><span class="line">    hobby: <span class="string">"guitar"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="keyword">if</span> (obj.hasOwnProperty(key)) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(obj[key]);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>é™¤äº†<code>hasOwnProperty()</code>å¯ä»¥åˆ¤æ–­æ˜¯ä¸æ˜¯å±æ€§ï¼Œ<code>in</code>ä¹Ÿå¯ä»¥ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'height'</span> <span class="keyword">in</span> obj);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'hobby'</span> <span class="keyword">in</span> obj);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<p>âš æ³¨æ„ï¼š<code>hasOwnProperty()</code>æ˜¯åˆ¤æ–­æ˜¯ä¸æ˜¯å¯¹è±¡è‡ªå·±çš„éç»§æ‰¿å±æ€§ï¼Œ<code>in</code>æŒ‡åˆ¤æ–­æ˜¯ä¸æ˜¯å±æ€§ï¼Œä¸ç®¡æ˜¯ä¸æ˜¯ç»§æ‰¿æ¥çš„ã€‚</p>
<p><br></p>
<p>ğŸ’¡å†æ¥è¯´è¯´<code>instanceof</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A <span class="keyword">instanceof</span> B</span><br></pre></td></tr></table></figure>
<p>å®ƒçš„è¯­æ³•ç†è§£å°±æ˜¯ï¼š</p>
<p>â€‹    çœ‹Aå¯¹è±¡æ˜¯ä¸æ˜¯Bæ„é€ å‡½æ•°æ„é€ å‡ºæ¥çš„</p>
<p>â€‹    æ›´æ·±å±‚æ¬¡çš„ç†è§£æ˜¯çœ‹Aå¯¹è±¡çš„åŸå‹é“¾ä¸Šæœ‰æ²¡æœ‰Bçš„åŸå‹</p>
<p>åº”ç”¨ï¼šåˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡ï¼Ÿ</p>
<p>æ–¹æ³•ä¸€ï¼šçœ‹constructor</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570897037168.png" alt="1570897037168"></p>
<p>æ–¹æ³•äºŒï¼šç”¨instanceof</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570897168419.png" alt="1570897168419"></p>
<p>æ–¹æ³•ä¸‰ï¼šçœ‹toString()</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570897447379.png" alt="1570897447379"></p>
<p><br><br></p>
<h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><ul>
<li><p>å‡½æ•°é¢„ç¼–è¯‘è¿‡ç¨‹ä¸­  thisâ€”&gt;window</p>
</li>
<li><p>å…¨å±€ä½œç”¨åŸŸé‡Œ  thisâ€”&gt;window</p>
</li>
<li><p>call/applyå¯ä»¥æ”¹å˜å‡½æ•°è¿è¡Œæ—¶thisçš„æŒ‡å‘</p>
</li>
<li><p>obj.func();   func()é‡Œé¢çš„thisæŒ‡å‘objï¼›å³è°è°ƒç”¨thiså°±æŒ‡å‘è°</p>
</li>
</ul>
<p><br></p>
<p>è¿™é‡Œè¡¥å……ä¸€ä¸‹é¢„ç¼–è¯‘ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>Â <span class="title">test</span>(<span class="params">c</span>)Â </span>&#123;</span><br><span class="line">Â Â Â Â Â Â <span class="keyword">var</span>Â aÂ =Â <span class="number">123</span>;</span><br><span class="line">Â Â Â Â Â Â <span class="function"><span class="keyword">function</span>Â <span class="title">b</span>(<span class="params"></span>)Â </span>&#123;Â &#125;</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â  test(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570903506616.png" alt="1570903506616"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>Â <span class="title">test</span>(<span class="params">c</span>)Â </span>&#123;</span><br><span class="line">Â Â Â Â Â Â <span class="keyword">var</span>Â aÂ =Â <span class="number">123</span>;</span><br><span class="line">Â Â Â Â Â Â <span class="function"><span class="keyword">function</span>Â <span class="title">b</span>(<span class="params"></span>)Â </span>&#123;Â &#125;</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â <span class="keyword">new</span> test(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570903422900.png" alt="1570903422900"></p>
<p>ä¾‹é¢˜ğŸ‘‡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">"222"</span>;</span><br><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">  name: <span class="string">"111"</span>,</span><br><span class="line">  say: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> fun = a.say;</span><br><span class="line">fun()</span><br><span class="line">a.say()</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = &#123;</span><br><span class="line">  name: <span class="string">"333"</span>,</span><br><span class="line">  say: <span class="function"><span class="keyword">function</span> (<span class="params">fun</span>) </span>&#123;</span><br><span class="line">    fun()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">b.say(a.say);</span><br><span class="line">b.say = a.say;</span><br><span class="line">b.say();</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="number">123</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pr</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.foo = <span class="number">234</span>;<span class="comment">//thisæŒ‡å‘å…¨å±€window</span></span><br><span class="line">  <span class="built_in">console</span>.log(foo);</span><br><span class="line">&#125;</span><br><span class="line">pr();</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="number">123</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pr</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.foo = <span class="number">234</span>;<span class="comment">//thisæŒ‡å‘Object.create(pr.prototype)</span></span><br><span class="line">  <span class="built_in">console</span>.log(foo);<span class="comment">//123</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.foo);<span class="comment">//234</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">new</span> pr();</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  a = <span class="number">0</span>;</span><br><span class="line">  alert(a);</span><br><span class="line">  alert(<span class="keyword">this</span>.a);</span><br><span class="line">  <span class="keyword">var</span> a;</span><br><span class="line">  alert(a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test();<span class="comment">//0  5  0</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  a = <span class="number">0</span>;</span><br><span class="line">  alert(a);</span><br><span class="line">  alert(<span class="keyword">this</span>.a);</span><br><span class="line">  <span class="keyword">var</span> a;</span><br><span class="line">  alert(a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> test();<span class="comment">//0  undefined  0</span></span><br></pre></td></tr></table></figure>
<p><br><br></p>
<h2 id="arguments-calleeå’Œfunction-caller"><a href="#arguments-calleeå’Œfunction-caller" class="headerlink" title="arguments.calleeå’Œfunction.caller"></a>arguments.calleeå’Œfunction.caller</h2><p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570931723015.png" alt="1570931723015"></p>
<p><strong>callee</strong> æ˜¯ <code>arguments</code> å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ã€‚å®ƒå¯ä»¥ç”¨äºå¼•ç”¨è¯¥å‡½æ•°çš„å‡½æ•°ä½“å†…å½“å‰æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°ã€‚è¿™åœ¨å‡½æ•°çš„åç§°æ˜¯æœªçŸ¥æ—¶å¾ˆæœ‰ç”¨ï¼Œä¾‹å¦‚åœ¨æ²¡æœ‰åç§°çš„å‡½æ•°è¡¨è¾¾å¼ (ä¹Ÿç§°ä¸ºâ€œåŒ¿åå‡½æ•°â€)å†…ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ±‚é˜¶ä¹˜</span></span><br><span class="line">    <span class="keyword">var</span> num = (<span class="function"><span class="keyword">function</span> (<span class="params">n</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">arguments</span>.callee(n - <span class="number">1</span>) * n</span><br><span class="line">    &#125;)(<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<hr>

<p>æ¥è¯´è¯´<strong>Function.caller</strong>ã€‚</p>
<p>å¦‚æœä¸€ä¸ªå‡½æ•°<code>f</code>æ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸå†…è¢«è°ƒç”¨çš„,åˆ™<code>f.callerä¸º`</code>null<code>,ç›¸å,å¦‚æœä¸€ä¸ªå‡½æ•°æ˜¯åœ¨å¦å¤–ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸå†…è¢«è°ƒç”¨çš„,åˆ™</code>f.calleræŒ‡å‘è°ƒç”¨å®ƒçš„é‚£ä¸ªå‡½æ•°.`</p>
<p>âš è¯¥ç‰¹æ€§æ˜¯éæ ‡å‡†çš„ï¼Œå®˜æ–¹å»ºè®®ä¸è¦å†ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee.caller);</span><br><span class="line">&#125;</span><br><span class="line">test1();</span><br><span class="line"><span class="comment">//æ‰§è¡Œç»“æœä¸ºnull</span></span><br></pre></td></tr></table></figure>
<p><br></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  test2()</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee.caller);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee.caller === test1);</span><br><span class="line">&#125;</span><br><span class="line">test1();</span><br><span class="line"><span class="comment">//æ‰§è¡Œæ‰“å°ç»“æœä¸ºtest1å‡½æ•°ä½“å’Œtrue</span></span><br></pre></td></tr></table></figure>
<p><br><br></p>
<h2 id="æµ…å…‹éš†-æ·±å…‹éš†"><a href="#æµ…å…‹éš†-æ·±å…‹éš†" class="headerlink" title="æµ…å…‹éš†/æ·±å…‹éš†"></a>æµ…å…‹éš†/æ·±å…‹éš†</h2><p>ã€æµ…å…‹éš†ã€‘</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'abc'</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  sex: <span class="string">'male'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">origin, target</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> target = target || &#123;&#125;;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> origin) &#123;</span><br><span class="line">    target[key] = origin[key]</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> target;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> newObj = clone(obj);</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570935515334.png" alt="1570935515334"></p>
<p>æµ…å…‹éš†çš„åŸå§‹å€¼å±æ€§æ›´æ”¹ï¼Œå¦ä¸€ä¸ªå¯¹è±¡ä¸å—å½±å“ã€‚ä½†æ˜¯å¼•ç”¨å€¼å±æ€§ä¸€æ”¹å°±å…¨éƒ½æ”¹äº†ã€‚</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570936074035.png" alt="1570936074035"></p>
<p>ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜å°±éœ€è¦è¿›è¡Œ<strong>æ·±åº¦å…‹éš†</strong></p>
<p>æ€æƒ³ï¼š</p>
<ol>
<li>éå†å¯¹è±¡  <code>for (var prop in origin)</code></li>
<li>åˆ¤æ–­æ˜¯ä¸æ˜¯åŸå§‹å€¼ ï¼ŒåŒæ—¶æ’é™¤nullã€‚ <code>origin[prop] !== null &amp;&amp; typeof (origin[prop]) == &#39;object&#39;</code></li>
<li>åˆ¤æ–­æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡ï¼Œåˆ©ç”¨<code>Object.prototype.toStringcall(origin[prop])</code>æ–¹æ³•</li>
<li>å»ºç«‹ç›¸åº”çš„æ•°ç»„æˆ–å¯¹è±¡</li>
<li>é€’å½’</li>
</ol>
<p><br></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.num = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> person1 = &#123;</span><br><span class="line">  name: <span class="string">'zhang'</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  sex: <span class="string">'male'</span>,</span><br><span class="line">  say: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="number">666</span>); &#125;,</span><br><span class="line">  children: &#123;</span><br><span class="line">    first: &#123;</span><br><span class="line">      name: <span class="string">'zhang2'</span>,</span><br><span class="line">      age: <span class="number">11</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  car: [<span class="string">'Benz'</span>, <span class="string">'Mazda'</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person2 = deepClone(person1);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">origin, target</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> target = target || &#123;&#125;,</span><br><span class="line">    toStr = <span class="built_in">Object</span>.prototype.toString,</span><br><span class="line">    arrStr = <span class="string">"[object Array]"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> prop <span class="keyword">in</span> origin) &#123;</span><br><span class="line">    <span class="keyword">if</span> (origin.hasOwnProperty(prop)) &#123;</span><br><span class="line">      <span class="keyword">if</span> (origin[prop] !== <span class="literal">null</span> &amp;&amp; <span class="keyword">typeof</span> (origin[prop]) == <span class="string">'object'</span>) &#123;</span><br><span class="line">        target[prop] = toStr.call(origin[prop]) == arrStr ? [] : &#123;&#125;;</span><br><span class="line">        deepClone(origin[prop], target[prop]);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        target[prop] = origin[prop];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> target;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ğŸ’¡å¦å¤–è¿˜å¯ä»¥ä½¿ç”¨ JSON æ¥å®ç°æ·±åº¦å…‹éš†ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="built_in">JSON</span>.stringify(person1);</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="built_in">JSON</span>.parse(str);</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯jsonå…‹éš†æ— æ³•å…‹éš†æ–¹æ³•</p>
<p>haikyi</p>
<p><br></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dunteng.github.io/[object Object]2019/10/28/å¤ä¹ æ•°ç»„.html">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dunteng Lin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunteng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/[object Object]2019/10/28/å¤ä¹ æ•°ç»„.html" itemprop="url">å¤ä¹ æ•°ç»„</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-10-28T00:00:00+08:00">
                2019-10-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å¯ä»¥å…ˆçœ‹ä¸€ä¸‹è¿™é‡Œçš„æ€»ç»“ğŸ‘‰<a href="https://www.jianshu.com/p/9521594710d7" target="_blank" rel="noopener">ç‚¹å‡»</a></p>
<h2 id="æ•°ç»„åˆ›å»ºæ–¹æ³•"><a href="#æ•°ç»„åˆ›å»ºæ–¹æ³•" class="headerlink" title="æ•°ç»„åˆ›å»ºæ–¹æ³•"></a>æ•°ç»„åˆ›å»ºæ–¹æ³•</h2><ul>
<li><p>å­—é¢é‡å®šä¹‰æ–¹æ³•</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>new Array</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">10</span>);<span class="comment">//åˆ›å»ºäº†é•¿åº¦ä¸º10çš„ç¨€æ¾æ•°ç»„ï¼Œå€¼éƒ½ä¸ºundefined</span></span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>); <span class="comment">//åˆ›å»ºäº†æ•°ç»„[1,2,3,4]</span></span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">10.2</span>)<span class="comment">//æŠ¥é”™ï¼Œé•¿åº¦ä¸èƒ½ä¸ºå°æ•°</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><br><br></p>
<h2 id="å¸¸ç”¨æ–¹æ³•"><a href="#å¸¸ç”¨æ–¹æ³•" class="headerlink" title="å¸¸ç”¨æ–¹æ³•"></a>å¸¸ç”¨æ–¹æ³•</h2><p>ã€ä¼šæ”¹å˜åŸæ•°ç»„çš„æ–¹æ³•ã€‘</p>
<ul>
<li><p>push</p>
</li>
<li><p>pop</p>
</li>
<li><p>shift</p>
</li>
<li><p>unshift</p>
</li>
<li><p>reverse</p>
</li>
<li><p>splice</p>
</li>
<li><p>sort</p>
</li>
</ul>
<p>ã€ä¸ä¼šæ”¹å˜åŸæ•°ç»„çš„æ–¹æ³•ã€‘</p>
<ul>
<li>concat</li>
<li>join</li>
<li>slice</li>
<li>toString</li>
<li>joinï¼Œè¿”å›å­—ç¬¦ä¸²</li>
<li>String.splitï¼Œè¿™ä¸ªä¸æ˜¯æ•°ç»„çš„æ–¹æ³•ï¼Œå®ƒæ˜¯å­—ç¬¦ä¸²çš„æ–¹æ³•ã€‚è¿”å›æ•°ç»„   joinå’Œsplitäº’é€†</li>
</ul>
<p><strong>æ•°ç»„å’Œå­—ç¬¦ä¸²ä¹‹é—´çš„ç›¸äº’è½¬æ¢å°±å¯ä»¥ä½¿ç”¨joinå’Œsplit</strong></p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570956573946.png" alt="1570956573946"></p>
<p>æ‰‹å†™pushæ–¹æ³•ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="built_in">Array</span>.prototype.push = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="built_in">arguments</span>.length; i++) &#123;</span><br><span class="line">    <span class="keyword">this</span>[<span class="keyword">this</span>.length] = <span class="built_in">arguments</span>[i];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.length + <span class="string">"  æˆ‘æ˜¯æ‰‹å†™çš„push"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br><span class="line"><span class="built_in">console</span>.log(arr.push(<span class="number">5</span>));</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br><span class="line"><span class="built_in">console</span>.log(arr.push(<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>));</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>  è¿™ä¸ªspliceæˆ‘è¦ç‰¹åˆ«è®°ä¸€ä¸‹ï¼Œä»–æ˜¯è¿™æ ·å­çš„ğŸ‘‡</p>
<p>  arr.splice(ä»ç¬¬å‡ ä½å¼€å§‹ï¼Œæˆªå–å¤šå°‘çš„é•¿åº¦ï¼Œåœ¨åˆ‡å£å¤„æ·»åŠ æ–°æ•°æ®)</p>
<p>  è¿™ä¸ªä½æ•°çš„åˆ¤æ–­å¾ˆå¾®å¦™ï¼Œè¿™é‡Œç‰¹åˆ«è¯´ä¸€ä¸‹ï¼Œä¹‹å‰ä¸€ç›´ç†è§£é”™</p>
<p>  <img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570954253675.png" alt="1570954253675"></p>
<p>  <img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570954293519.png" alt="1570954293519"></p>
<p>  å¦‚æœæ˜¯splice(-1)è¡¨ç¤ºä»å€’æ•°ç¬¬ä¸€ä½ç½®å¼€å§‹åˆ‡ã€‚</p>
<p><br></p>
<p>sortä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œè¦ä¼ å…¥ä¸€ä¸ªå‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">4</span>];</span><br><span class="line">arr.sort(<span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (a &gt; b) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šæ˜¯å‡åºæ’åºã€‚</p>
<p>å¯ä»¥å†ç®€åŒ–ä¸€ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arr.sort(<span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a - b;<span class="comment">//å‡åº</span></span><br><span class="line"><span class="comment">//return b - a;//é™åº</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>ç»ƒç»ƒğŸ‘‡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç»™å®šä¸€ä¸ªæœ‰åºçš„æ•°ç»„ï¼Œä½¿å…¶ä¹±åº</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">arr.sort(<span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.random() - <span class="number">0.5</span>;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//å¯¹è±¡æ•°ç»„çš„æ’åº</span><br><span class="line">var aaa = &#123;</span><br><span class="line">  age: 12,</span><br><span class="line">  name: &apos;AAA&apos;</span><br><span class="line">&#125;,</span><br><span class="line">  bbb = &#123;</span><br><span class="line">    age: 20,</span><br><span class="line">    name: &apos;BBB&apos;</span><br><span class="line">  &#125;,</span><br><span class="line">  ccc = &#123;</span><br><span class="line">    age: 6,</span><br><span class="line">    name: &apos;CCC&apos;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">var arr = [aaa, bbb, ccc];</span><br><span class="line">arr.sort(function (a, b) &#123;</span><br><span class="line">  return a.age - b.age</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">console.log(arr);</span><br></pre></td></tr></table></figure>
<p><br></p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570956085353.png" alt="1570956085353"></p>
<p><br></p>
<p>sliceæ–¹æ³•</p>
<p>sliceï¼ˆä»è¯¥ä½å¼€å§‹æˆªå–ï¼Œæˆªå–åˆ°è¯¥ä½ï¼‰ï¼Œè¿”å›å‡ºæˆªå–å‡ºæ¥çš„æ•°ç»„</p>
<p><br><br></p>
<h2 id="ç±»æ•°ç»„"><a href="#ç±»æ•°ç»„" class="headerlink" title="ç±»æ•°ç»„"></a>ç±»æ•°ç»„</h2><p>ä¸¾ä¸ªæ —å­ï¼Œargumentså°±æ˜¯ä¸ªç±»æ•°ç»„ã€‚</p>
<p>æ‰‹å†™ä¸€ä¸ªç±»æ•°ç»„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;</span><br><span class="line">  &quot;0&quot;: &apos;a&apos;,</span><br><span class="line">  &quot;1&quot;: &apos;b&apos;,</span><br><span class="line">  &quot;2&quot;: &apos;c&apos;,</span><br><span class="line">  &quot;length&quot;: 3,</span><br><span class="line">  &quot;push&quot;: Array.prototype.push</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570957073803.png" alt="1570957073803"></p>
<p>ğŸ’¡ç±»æ•°ç»„ï¼šå±æ€§è¦ä¸ºç´¢å¼•ï¼ˆæ•°å­—ï¼‰å±æ€§ï¼Œå¿…é¡»æœ‰lengthå±æ€§ï¼Œæœ€å¥½åŠ ä¸Špushæ–¹æ³•ã€‚è€Œä¸”å¦‚æœåŠ ä¸Šspliceæ–¹æ³•çš„è¯ï¼Œå¤–è§‚å°±æ›´åƒæ•°ç»„äº†ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="string">"0"</span>: <span class="string">'a'</span>,</span><br><span class="line">  <span class="string">"1"</span>: <span class="string">'b'</span>,</span><br><span class="line">  <span class="string">"2"</span>: <span class="string">'c'</span>,</span><br><span class="line">  <span class="string">"length"</span>: <span class="number">3</span>,</span><br><span class="line">  <span class="string">"push"</span>: <span class="built_in">Array</span>.prototype.push,</span><br><span class="line">  <span class="string">"splice"</span>: <span class="built_in">Array</span>.prototype.splice</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570957380785.png" alt="1570957380785"></p>
<p>é˜¿é‡Œå·´å·´ç¬”è¯•é¢˜ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿è¡Œä»¥ä¸‹ä»£ç ï¼Œé—®objå˜æˆäº†ä»€ä¹ˆæ ·ï¼Ÿ</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="string">"2"</span>: <span class="string">'a'</span>,</span><br><span class="line">  <span class="string">"3"</span>: <span class="string">'b'</span>,</span><br><span class="line">  <span class="string">"length"</span>: <span class="number">2</span>,</span><br><span class="line">  <span class="string">"push"</span>: <span class="built_in">Array</span>.prototype.push,</span><br><span class="line">  <span class="string">"splice"</span>: <span class="built_in">Array</span>.prototype.splice</span><br><span class="line">&#125;</span><br><span class="line">obj.push(<span class="string">'c'</span>);</span><br><span class="line">obj.push(<span class="string">'d'</span>);</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570957532671.png" alt="1570957532671"></p>
<p>è¿™é‡Œçœ‹ä¸€ä¸‹pushçš„åŸç†å°±æ‡‚äº†ï¼Œæˆ‘ä¸Šæ–‡æœ‰å†™ğŸ‘†</p>
<p><br></p>
<p>ã€å°è£…typeofã€‘</p>
<p>ä½¿å…¶å¯ä»¥å‡†ç¡®åˆ¤æ–­ç±»å‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_type</span>(<span class="params">target</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> template = &#123;</span><br><span class="line">    <span class="string">"[object Array]"</span>: <span class="string">"array"</span>,</span><br><span class="line">    <span class="string">"[object Object]"</span>: <span class="string">"object"</span>,</span><br><span class="line">    <span class="comment">// ä¸‹é¢ä¸‰ä¸ªåŒ…è£…ç±»</span></span><br><span class="line">    <span class="string">"[object Number]"</span>: <span class="string">"number - object"</span>,</span><br><span class="line">    <span class="string">"[object Boolean]"</span>: <span class="string">"boolean - object"</span>,</span><br><span class="line">    <span class="string">"[object String]"</span>: <span class="string">"string - object"</span>,</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (target == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> (target) == <span class="string">'object'</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> str = <span class="built_in">Object</span>.prototype.toString.call(target);</span><br><span class="line">    <span class="keyword">return</span> template[str];</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> (target);<span class="comment">//åŸå§‹å€¼å’ŒFunctionå¯ä»¥ç›´æ¥é€šè¿‡åŸç”Ÿtypeofåˆ¤æ–­</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>ã€æ•°ç»„å»é‡ã€‘</p>
<p>æ–¹æ³•ä¸€ï¼šåˆ©ç”¨å¯¹è±¡å±æ€§çš„å”¯ä¸€æ€§</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.unique = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> temp = &#123;&#125;;</span><br><span class="line">  <span class="keyword">var</span> arr = [];</span><br><span class="line">  <span class="keyword">var</span> len = <span class="keyword">this</span>.length;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!temp[<span class="keyword">this</span>[i]]) &#123;</span><br><span class="line">      temp[<span class="keyword">this</span>[i]] = <span class="string">"abc"</span>;</span><br><span class="line">      arr.push(<span class="keyword">this</span>[i])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line"><span class="built_in">console</span>.log(arr.unique());</span><br></pre></td></tr></table></figure>
<p>æ–¹æ³•äºŒï¼šåˆ©ç”¨ES6çš„[..new Set(arr)]æˆ–è€…Array.from(new Set(arr))</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">2</span>,];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!<span class="built_in">Array</span>.isArray(arr)) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'type error!'</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> [...new <span class="built_in">Set</span>(arr)];</span><br><span class="line">  <span class="comment">//return Array.from(new Set(arr))  </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(unique(arr));</span><br></pre></td></tr></table></figure>
<p>æ–¹æ³•ä¸‰ï¼š åŒå¾ªç¯</p>
<p>åŒé‡forï¼ˆæˆ–whileï¼‰å¾ªç¯æ˜¯æ¯”è¾ƒç¬¨æ‹™çš„æ–¹æ³•ï¼Œå®ƒå®ç°çš„åŸç†å¾ˆç®€å•ï¼šå…ˆå®šä¹‰ä¸€ä¸ªåŒ…å«åŸå§‹æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„æ•°ç»„ï¼Œç„¶åéå†åŸå§‹æ•°ç»„ï¼Œå°†åŸå§‹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä¸æ–°æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œæ¯”å¯¹ï¼Œå¦‚æœä¸é‡å¤åˆ™æ·»åŠ åˆ°æ–°æ•°ç»„ä¸­ï¼Œæœ€åè¿”å›æ–°æ•°ç»„ï¼›å› ä¸ºå®ƒçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n^2)ï¼Œå¦‚æœæ•°ç»„é•¿åº¦å¾ˆå¤§ï¼Œé‚£ä¹ˆå°†ä¼šéå¸¸è€—è´¹å†…å­˜</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">Array</span>.isArray(arr)) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'type error!'</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> res = [arr[<span class="number">0</span>]]</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> flag = <span class="literal">true</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; res.length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[i] === res[j]) &#123;</span><br><span class="line">                flag = <span class="literal">false</span>;<span class="comment">//åˆ©ç”¨ä¸€ä¸ªflagæ¥åˆ¤æ–­æ˜¯å¦å·²å­˜åœ¨ï¼Œå…³é”®</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">            res.push(arr[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ–¹æ³•å››ï¼šindexOfæ–¹æ³•</p>
<p>æ•°ç»„çš„indexOf()æ–¹æ³•å¯è¿”å›æŸä¸ªæŒ‡å®šçš„å…ƒç´ åœ¨æ•°ç»„ä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®ã€‚è¯¥æ–¹æ³•é¦–å…ˆå®šä¹‰ä¸€ä¸ªç©ºæ•°ç»„resï¼Œç„¶åè°ƒç”¨indexOfæ–¹æ³•å¯¹åŸæ¥çš„æ•°ç»„è¿›è¡Œéå†åˆ¤æ–­ï¼Œå¦‚æœå…ƒç´ ä¸åœ¨resä¸­ï¼Œåˆ™å°†å…¶pushè¿›resä¸­ï¼Œæœ€åå°†resè¿”å›å³å¯è·å¾—å»é‡çš„æ•°ç»„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">Array</span>.isArray(arr)) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'type error!'</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> res = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.indexOf(arr[i]) === <span class="number">-1</span>) &#123;</span><br><span class="line">            res.push(arr[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br><br></p>
<p>æ¥ç‚¹éšå ‚ç»ƒä¹ ğŸ‘‡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">delete</span> x;</span><br><span class="line">  <span class="keyword">return</span> x;</span><br><span class="line">&#125;)(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<p>ç»“æœä¸º1ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// å½¢å‚å®é™…ä¸Šå°±æ˜¯éšå¼åœ°æ‰§è¡Œäº† var x;</span></span><br><span class="line">  <span class="comment">// åŒæ—¶æ³¨æ„ï¼Œvarå‡ºæ¥çš„å˜é‡ï¼Œå¦‚æœä¸æ˜¯ä½œä¸ºå±æ€§è€Œå­˜åœ¨çš„è¯ï¼Œæ˜¯æ— æ³•è¢«deleteæ‰çš„</span></span><br><span class="line">  <span class="keyword">delete</span> x;<span class="comment">//æ— æ•ˆ</span></span><br><span class="line">  <span class="keyword">return</span> x;<span class="comment">//è¯¥æ˜¯å•¥å°±æ˜¯å•¥</span></span><br><span class="line">&#125;)(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<hr>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> h = <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">23</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a());<span class="comment">//Uncaught ReferenceError: a is not defined</span></span><br></pre></td></tr></table></figure>
<hr>




          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dunteng.github.io/[object Object]2019/10/28/é¢„ç¼–è¯‘-ä½œç”¨åŸŸ-é—­åŒ…-ç«‹å³æ‰§è¡Œå‡½æ•°.html">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dunteng Lin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunteng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/[object Object]2019/10/28/é¢„ç¼–è¯‘-ä½œç”¨åŸŸ-é—­åŒ…-ç«‹å³æ‰§è¡Œå‡½æ•°.html" itemprop="url">å¤ä¹ é¢„ç¼–è¯‘-ä½œç”¨åŸŸ-é—­åŒ…-ç«‹å³æ‰§è¡Œå‡½æ•°</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-10-28T00:00:00+08:00">
                2019-10-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="å‡½æ•°å®šä¹‰"><a href="#å‡½æ•°å®šä¹‰" class="headerlink" title="å‡½æ•°å®šä¹‰"></a>å‡½æ•°å®šä¹‰</h2><p>ğŸ‘‰<a href="http://doc.liangxinghua.com/javascript/3.1.html" target="_blank" rel="noopener">ç‚¹å‡»</a></p>
<p>ã€è¡¥å……ã€‘ï¼š</p>
<ul>
<li><p>æ³¨æ„åŒºåˆ†ä»€ä¹ˆæ˜¯å‡½æ•°å£°æ˜ã€ä»€ä¹ˆæ˜¯å‡½æ•°è¡¨ç¤ºï¼Œä¸è¦æ··æ·†ã€‚</p>
</li>
<li><p>å‘½å®šè¡¨è¾¾å¼</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570686806366.png" alt="1570686806366"></p>
<p>å‡½æ•°æŒ‰ç…§ä¸Šé¢çš„æ–¹å¼å®šä¹‰åï¼Œåªæœ‰testæ‰æ˜¯å‡½æ•°ï¼Œtest1ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯test1æ˜¯testçš„nameï¼Œå¯ä»¥é€šè¿‡test.nameå¾—åˆ°ã€‚</p>
</li>
</ul>
<h2 id="å‚æ•°ã€è¿”å›å€¼"><a href="#å‚æ•°ã€è¿”å›å€¼" class="headerlink" title="å‚æ•°ã€è¿”å›å€¼"></a>å‚æ•°ã€è¿”å›å€¼</h2><p>ğŸ‘‰<a href="http://doc.liangxinghua.com/javascript/3.2.html" target="_blank" rel="noopener">ç‚¹å‡»</a></p>
<p><br><br></p>
<h2 id="é¢„ç¼–è¯‘"><a href="#é¢„ç¼–è¯‘" class="headerlink" title="é¢„ç¼–è¯‘"></a>é¢„ç¼–è¯‘</h2><p>JavaScriptæ‰§è¡Œçš„ä¸‰éƒ¨æ›²ï¼š</p>
<p>â€‹    1ã€è¯­æ³•åˆ†æï¼šå…ˆé€šç¯‡æ‰«æä¸€ä¸‹çœ‹æœ‰æ²¡æœ‰è¯­æ³•é”™è¯¯ï¼Œä½†æ˜¯ä¸æ‰§è¡Œã€‚</p>
<p>â€‹    2ã€é¢„ç¼–è¯‘</p>
<p>â€‹    3ã€è§£é‡Šæ‰§è¡Œ</p>
<hr style="background-color:lightblue">

<p><strong>ã€å‡½æ•°å£°æ˜æ•´ä½“æå‡ï¼Œå˜é‡çš„å£°æ˜æå‡ï¼Œå˜é‡çš„èµ‹å€¼ä¸æå‡ã€‘</strong></p>
<p>æˆ‘ä»¬çŸ¥é“JavaScriptæ˜¯è§£é‡Šä¸€è¡Œæ‰§è¡Œä¸€è¡Œçš„ï¼Œçœ‹ä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">test();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">666</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®ƒæ˜¯å¯ä»¥æˆåŠŸæ‰§è¡Œæ‰“å°å‡º666çš„ã€‚å› ä¸º<strong>å‡½æ•°å£°æ˜æ•´ä½“æå‡</strong>äº†ï¼Œå®ƒä¼šæŠŠå‡½æ•°çš„å£°æ˜æå‡åˆ°é€»è¾‘çš„æœ€å‰é¢ã€‚</p>
<p>å†çœ‹ä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(a);</span><br></pre></td></tr></table></figure>
<p>æŠ¥é”™ï¼Œaæœªå®šä¹‰ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>;</span><br></pre></td></tr></table></figure>
<p>å¯æ‰§è¡Œï¼Œä½†æ˜¯æ‰“å°ç»“æœä¸º<strong>undefined</strong>ã€‚è¿™è¯´æ˜äº† a æ˜¯<strong>å·²ç»å£°æ˜ä½†æ˜¯å°šæœªèµ‹å€¼</strong>ã€‚è¿™ä¸€ç°è±¡æ˜¯<strong>å˜é‡çš„å£°æ˜æå‡</strong>ã€‚</p>
<p>ä½†æ˜¯ï¼Œè¿™ä¸¤ä¸ªå£è¯€æ²»æ ‡ä¸æ²»æœ¬ï¼Œå¿…é¡»æŠŠé¢„ç¼–è¯‘ææ˜ç™½ã€‚</p>
<hr style="background-color:lightblue">

<p><strong>imply global  æš—ç¤ºå…¨å±€å˜é‡</strong>ï¼š</p>
<p>ä»»ä½•å˜é‡ï¼Œå¦‚æœå˜é‡æœªç»å£°æ˜å°±èµ‹å€¼ï¼Œæ­¤å˜é‡å°±ä¸ºå…¨å±€å¯¹è±¡windowæ‰€æœ‰ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">	a = <span class="number">10</span>; <span class="comment">//æœªç»å£°æ˜å°±èµ‹å€¼ï¼Œç›¸å½“äºwindow.a = 10;</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å†æ¥ä¸€ä¸ªæ —å­ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = b = <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line">test();</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="built_in">console</span>.log(b);</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ‰§è¡Œç»“æœæ˜¯æŠ¥é”™çš„ã€‚</p>
<p><code>var a = b= 10</code>æ˜¯ä»å³å¾€å·¦èµ‹å€¼çš„ï¼Œå…ˆå°†10èµ‹å€¼ç»™bï¼Œä½†æ˜¯bæ²¡æœ‰å£°æ˜æ‰€ä»¥å®ƒæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œä¹‹åå†æŠŠbèµ‹å€¼ç»™aï¼Œaæœ‰å£°æ˜å˜é‡ï¼Œå®ƒæ˜¯å‡½æ•°testé‡Œé¢çš„ä¸€ä¸ªå±€éƒ¨å˜é‡ã€‚å¤–ç•Œæ˜¯æ— æ³•è®¿é—®açš„ï¼Œæ‰€ä»¥æŠ¥é”™ã€‚ä½†æ˜¯å¦‚æœæ‰“å°bæ˜¯å¯ä»¥æ­£ç¡®è¾“å‡º10çš„ã€‚</p>
<hr style="background-color:lightblue">

<p><strong>ä¸€åˆ‡å£°æ˜çš„å…¨å±€å˜é‡ï¼Œéƒ½å½’windowæ‰€æœ‰ï¼Œéƒ½æ˜¯windowçš„å±æ€§</strong>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">	var a = 10; //ç›¸å½“äºwindow.a = 10;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<hr style="background-color:lightblue">

<h3 id="å‡½æ•°é¢„ç¼–è¯‘"><a href="#å‡½æ•°é¢„ç¼–è¯‘" class="headerlink" title="å‡½æ•°é¢„ç¼–è¯‘"></a>å‡½æ•°é¢„ç¼–è¯‘</h3><p>å‡½æ•°é¢„ç¼–è¯‘å‘ç”Ÿåœ¨å‡½æ•°æ‰§è¡Œçš„å‰ä¸€åˆ»ã€‚è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>åˆ›å»ºAOå¯¹è±¡ï¼ˆActivation Object æ‰§è¡ŒæœŸä¸Šä¸‹æ–‡ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯æˆ‘ä»¬ç†è§£çš„ä½œç”¨åŸŸï¼‰</li>
<li>æ‰¾å½¢å‚å’Œå˜é‡å£°æ˜ï¼Œå°†å˜é‡å’Œå½¢å‚åä½œä¸ºAOå¯¹è±¡çš„å±æ€§åï¼Œå€¼ä¸ºundefined</li>
<li>å°†å®å‚å€¼å’Œå½¢å‚ç»Ÿä¸€</li>
<li>æ‰¾å‡½æ•°å£°æ˜ï¼Œå°†å‡½æ•°åä¹Ÿä½œä¸ºAOå¯¹è±¡çš„å±æ€§åæŒ‚èµ·æ¥ï¼Œå°†è¯¥å£°æ˜çš„å‡½æ•°ä½“ä½œä¸ºå€¼ã€‚</li>
</ul>
<p>ä¸¾ä¸ªæ —å­ğŸ‘‡</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570706022488.png" alt="1570706022488"></p>
<p>è¿™æ®µä»£ç æ‰§è¡Œç»“æœä¸ºï¼Ÿ</p>
<p>æ —å­1ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(a);</span><br><span class="line">      c = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">var</span> c;</span><br><span class="line">      a = <span class="number">3</span>;</span><br><span class="line">      b = <span class="number">2</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(b);</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">d</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line">      <span class="built_in">console</span>.log(b);</span><br><span class="line">    &#125;</span><br><span class="line">    test(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p>æ —å­2ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a);</span><br><span class="line">  <span class="built_in">console</span>.log(b);</span><br><span class="line">  <span class="keyword">var</span> b = <span class="number">234</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(b);</span><br><span class="line">  a = <span class="number">123</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(a);</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line">  <span class="keyword">var</span> a;</span><br><span class="line">  b = <span class="number">234</span>;</span><br><span class="line">  <span class="keyword">var</span> b = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(a);</span><br><span class="line">  <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<hr style="background-color:lightblue">

<h3 id="å…¨å±€é¢„ç¼–è¯‘"><a href="#å…¨å±€é¢„ç¼–è¯‘" class="headerlink" title="å…¨å±€é¢„ç¼–è¯‘"></a>å…¨å±€é¢„ç¼–è¯‘</h3><p>å’Œå‡½æ•°çš„é¢„ç¼–è¯‘ç±»ä¼¼ï¼ŒåŒæ—¶å®ƒäº§ç”Ÿçš„å«åšGOï¼ŒGOå°±æ˜¯window</p>
<ul>
<li>åˆ›å»ºGOå¯¹è±¡ï¼ˆglobal object å…¨å±€ä¸Šä¸‹æ–‡ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯æˆ‘ä»¬ç†è§£çš„å…¨å±€ä½œç”¨åŸŸï¼‰</li>
<li>æ‰¾å½¢å‚å’Œå˜é‡å£°æ˜ï¼Œå°†å½¢å‚åã€å˜é‡åä½œä¸ºGOå¯¹è±¡çš„å±æ€§åï¼Œå€¼ä¸ºundefined</li>
<li>æ‰¾å‡½æ•°å£°æ˜ï¼Œå°†å‡½æ•°åä¹Ÿä½œä¸ºGOå¯¹è±¡çš„å±æ€§åæŒ‚èµ·æ¥ï¼Œå°†è¯¥å£°æ˜çš„å‡½æ•°ä½“ä½œä¸ºå€¼ã€‚</li>
</ul>
<p>ä¸¾ä¸ªæ —å­ğŸ‘‡</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570758880702.png" alt="1570758880702"></p>
<p>ä¸Šé¢çš„æ —å­æ”¹åŠ¨ä¸€ä¸‹ğŸ‘‡</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570759070170.png" alt="1570759070170"></p>
<p>æ¥ç»ƒç»ƒğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(test);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">test</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(test);</span><br><span class="line">  <span class="keyword">var</span> test = <span class="number">234</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(test);</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">test(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">var</span> test = <span class="number">123</span>;</span><br><span class="line"><span class="built_in">console</span>.log(test);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(bar());</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      foo = <span class="number">10</span>;</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> foo = <span class="number">11</span>;</span><br><span class="line">      <span class="keyword">return</span> foo;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> foo;</span><br><span class="line">  foo = <span class="number">10</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> foo = <span class="number">11</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(bar());</span><br></pre></td></tr></table></figure>
<p><hr style="background-color:lightblue"></p>
<h2 id="ä½œç”¨åŸŸ"><a href="#ä½œç”¨åŸŸ" class="headerlink" title="ä½œç”¨åŸŸ"></a>ä½œç”¨åŸŸ</h2><p>æ¯ä¸ªJavaScriptå‡½æ•°éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¸­æœ‰äº›å±æ€§æˆ‘ä»¬å¯ä»¥è®¿é—®ã€‚ä¹Ÿæœ‰äº›æ˜¯ä¸å¯ä»¥è®¿é—®çš„ï¼Œè¿™ç§å±æ€§ä»…ä¾›JavaScriptå¼•æ“å­˜å–ï¼Œ[[scope]]å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚</p>
<p>[[scope]]æŒ‡çš„å°±æ˜¯ä½œç”¨åŸŸï¼Œå…¶ä¸­å­˜å‚¨äº†è¿è¡ŒæœŸä¸Šä¸‹æ–‡çš„é›†åˆã€‚</p>
<p>[[scope]]ä¸­æ‰€å­˜å‚¨çš„æ‰§è¡ŒæœŸä¸Šä¸‹æ–‡å¯¹è±¡çš„é›†åˆï¼Œè¿™ç§é›†åˆå‘ˆé“¾å¼é“¾æ¥ï¼Œç§°ä½œæ˜¯<strong>ä½œç”¨åŸŸé“¾</strong></p>
<hr style="background-color:lightblue">

<p><strong>æ‰§è¡ŒæœŸä¸Šä¸‹æ–‡</strong>ï¼šå½“å‡½æ•°æ‰§è¡Œæ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªç§°ä¸ºæ‰§è¡ŒæœŸä¸Šä¸‹æ–‡çš„å†…éƒ¨å¯¹è±¡ã€‚ä¸€ä¸ªæ‰§è¡ŒæœŸä¸Šä¸‹æ–‡å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°æ‰§è¡Œæ—¶çš„ç¯å¢ƒï¼Œå‡½æ•°æ¯æ¬¡æ‰§è¡Œæ—¶å¯¹åº”çš„æ‰§è¡Œä¸Šä¸‹æ–‡éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œæ‰€ä»¥å¤šæ¬¡è°ƒç”¨åŒä¸€ä¸ªå‡½æ•°ä¼šå¯¼è‡´åˆ›å»ºå¤šä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå½“å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œå®ƒæ‰€äº§ç”Ÿçš„æ‰§è¡Œä¸Šä¸‹æ–‡å°±é”€æ¯ã€‚çˆ½å®Œäº†å°±æŠ›å¼ƒï¼Œæ¸£ç”·ï¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line">test()  <span class="comment">//ç¬¬ä¸€ä¸ªæ‰§è¡Œtestå‡½æ•°ï¼Œåˆ›å»ºäº†ä¸€ä¸ªå®ƒçš„æ‰§è¡Œä¸Šä¸‹æ–‡AO</span></span><br><span class="line">		<span class="comment">//æ‰§è¡Œå®Œæ¯•åï¼ŒAOå°±è¢«é”€æ¯äº†</span></span><br><span class="line">test()  <span class="comment">//å†ä¸€æ¬¡æ‰§è¡Œtestå‡½æ•°ï¼Œåˆéœ€è¦åˆ›å»ºä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡AO</span></span><br><span class="line">		<span class="comment">//çˆ½å®Œä¹‹åå†æ¬¡æŠ›å¼ƒ(â•¬â–”çš¿â–”)å‡¸</span></span><br></pre></td></tr></table></figure>
<p><hr style="background-color:lightblue"><br>ä¸¾ä¸ªæ —å­ğŸ‘‡</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570772661596.png" alt="1570772661596"></p>
<p>è¿™æ®µä»£ç é¦–å…ˆæ˜¯å‡½æ•°açš„å£°æ˜ï¼Œaå‡½æ•°è¢«å®šä¹‰çš„æ—¶å€™å°±äº§ç”Ÿäº†å¦‚ä¸‹ç¯èŠ‚ï¼š</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570772746072.png" alt="1570772746072"></p>
<p>açš„[[scope]]é‡Œé¢å­˜çš„æ˜¯scope chainå³ä½œç”¨åŸŸé“¾ï¼Œè¿™æ—¶å€™ä½œç”¨åŸŸé“¾é‡Œåªæœ‰ä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡GOï¼Œç´§æ¥ç€æ‰§è¡Œä»£ç <code>var glob = 100</code>æ›´æ–°GOã€‚ç´§æ¥ç€æ‰§è¡Œå‡½æ•°a()ã€‚</p>
<p>aå‡½æ•°æ‰§è¡Œçš„æ—¶å€™å°±äº§ç”Ÿäº†å®ƒçš„æ‰§è¡ŒæœŸä¸Šä¸‹æ–‡AOï¼Œå¹¶æŠŠAOæ”¾åˆ°ä½œç”¨åŸŸé“¾çš„æœ€é¡¶ç«¯ï¼Œç°å‰çš„GOå°±å¾€åç¨ç¨ã€‚</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570773023375.png" alt="1570773023375"></p>
<p>ä¸€æ—¦æˆ‘ä»¬å†aé‡Œé¢æŸ¥æ‰¾ä¸€ä¸ªå˜é‡çš„è¯ï¼Œå®ƒä¼šä»açš„ä½œç”¨åŸŸé“¾çš„é¡¶ç«¯â€”â€”AO<strong>ä¾æ¬¡å‘ä¸‹</strong>æŸ¥æ‰¾ã€‚</p>
<p>ç´§æ¥ç€ï¼Œç”±äºaçš„æ‰§è¡Œäº§ç”Ÿäº†ä¸€ä¸ªè¿‡ç¨‹â€”â€”bå‡½æ•°çš„å®šä¹‰ï¼Œbä½œä¸ºå‡½æ•°ä¹Ÿæœ‰è‡ªå·±çš„[[scope]]ï¼Œä½†æ˜¯båˆšå‡ºç”Ÿæ—¶å®ƒçš„ç¯å¢ƒå°±æ˜¯aç»™å®ƒçš„ï¼Œæ‰€ä»¥bå¯ä»¥æ¡ç°æˆçš„[[scope]]ã€‚</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570773293755.png" alt="1570773293755"></p>
<p>å³båˆšåˆšè¢«å®šä¹‰çš„æ—¶å€™ï¼Œå®ƒä¿å­˜çš„å°±æ˜¯açš„åŠ³åŠ¨æˆæœã€‚</p>
<p>é‡ç‚¹åœ¨äºbå‡½æ•°è¢«æ‰§è¡Œçš„æ—¶å€™ï¼Œå®ƒä¹Ÿäº§ç”Ÿäº†å®ƒçš„æ‰§è¡Œä¸Šä¸‹æ–‡AOï¼Œå°†å…¶æ”¾åœ¨ä½œç”¨åŸŸé“¾çš„æœ€é¡¶ç«¯ï¼Œä¹‹å‰açš„AOå’ŒGOå°±åˆå¾€åç¨ç¨äº†ã€‚</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570773491976.png" alt="1570773491976"></p>
<p>è¿™æ—¶å¦‚æœåœ¨bé‡Œé¢æ‰¾ä¸€ä¸ªå˜é‡çš„è¯ï¼Œä¹Ÿæ˜¯ä»ä½œç”¨åŸŸé“¾çš„æœ€é¡¶ç«¯è‡ªé¡¶å‘ä¸‹æŸ¥æ‰¾ã€‚</p>
<p>b()æ‰§è¡Œå®Œæˆä¹‹åï¼Œbè‡ªå·±çš„AOå°±è¢«é”€æ¯äº†ï¼Œb.[[[scope]]å›åˆ°äº†bä¸€å¼€å§‹è¢«å®šä¹‰çš„æ—¶å€™ï¼›</p>
<p>æ¥ç€b()æ‰§è¡Œå®Œè¯´æ˜a()ä¹Ÿæ‰§è¡Œå®Œæˆäº†ï¼Œaè‡ªå·±çš„AOä¹Ÿè¢«é”€æ¯äº†ï¼Œa.[[scope]]å›åˆ°äº†aä¸€å¼€å§‹å®šä¹‰çš„æ—¶å€™ã€‚</p>
<p><hr style="background-color:lightblue"><br>å†ä¸¾ä¸ªæ —å­ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    c();</span><br><span class="line">  &#125;</span><br><span class="line">  b();</span><br><span class="line">&#125;</span><br><span class="line">a()</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œa()ï¼Œå¾—åˆ°ä½œç”¨åŸŸé“¾å¦‚ä¸‹ï¼š</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570775695313.png" alt="1570775695313"></p>
<p>åœ¨ä»»ä½•ä¸€ä¸ªå‡½æ•°é‡Œé¢æƒ³è¦è®¿é—®ä¸€ä¸ªå˜é‡ï¼Œæ‰¾å®ƒçš„ä½œç”¨åŸŸé“¾å°±å®Œäº‹äº†ã€‚æƒ³è¦è®¿é—®å˜é‡ä¸€å®šæ˜¯çœ‹åœ¨è¿™ä¸ªå‡½æ•°æ‰§è¡Œæ—¶äº§ç”Ÿçš„ä½œç”¨åŸŸé“¾ï¼Œè€Œä¸”æ˜¯è‡ªé¡¶å‘ä¸‹è®¿é—®ã€‚</p>
<p>å‡å¦‚æˆ‘ä»¬è¦åœ¨bå‡½æ•°é‡Œé¢è®¿é—®cå‡½æ•°é‡Œå®šä¹‰çš„ccå˜é‡ï¼Œé‚£ä¹ˆè¿™æ—¶å€™æˆ‘ä»¬æ˜¯ç«™åœ¨ã€b executing  b.[[scoep]]ã€‘è¿™ä¸ªä½œç”¨åŸŸé“¾ä¸Šçš„ï¼Œè€Œè¿™ä¸ªä½œç”¨åŸŸé“¾é‡Œé¢æ ¹æœ¬æ²¡æœ‰cAOï¼Œä¹Ÿå°±è®¿é—®ä¸åˆ°cå‡½æ•°é‡Œé¢å®šä¹‰çš„ccå˜é‡äº†ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå‡½æ•°å¤–éƒ¨æ— æ³•è®¿é—®å‡½æ•°å†…éƒ¨çš„å˜é‡çš„åŸå› ã€‚</p>
<p>psï¼šä¸Šé¢è¿™æ®µä»£ç å¦‚æœaå‡½æ•°æ²¡æœ‰æ‰§è¡Œå°±æ²¡æœ‰ã€a executing ã€‚ã€‚ã€‚ã€‘åŠå…¶ä¹‹åçš„ä½œç”¨åŸŸé“¾ã€‚</p>
<p><br><br></p>
<h2 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h2><p>ä¸€ä¸ªæ —å­ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> bbb = <span class="number">234</span>;</span><br><span class="line">    <span class="built_in">document</span>.write(aaa);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> aaa = <span class="number">123</span>;</span><br><span class="line">  <span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> glob = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">var</span> demo = a();</span><br><span class="line">demo();</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570777469422.png" alt="1570777469422"></p>
<p>aæ‰§è¡Œå®Œæ¯•åé”€æ¯äº†aAOï¼Œè®²é“ç†ï¼Œé‡Œé¢çš„aaaä¹Ÿåº”è¯¥é”€æ¯äº†ï¼Œä½†æ˜¯aå‡½æ•°æŠŠbè¿”å›äº†å‡ºæ¥å¹¶ä¸”èµ‹ç»™äº†demoï¼Œå¯¼è‡´demoä¿ç•™äº†aAOï¼Œä»è€Œå¯ä»¥è®¿é—®åˆ°aaaã€‚æœ€ç»ˆç»“æœæ˜¯æ‰“å°å‡º123ã€‚</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570777779515.png" alt="1570777779515"></p>
<p>è¿™å°±æ˜¯é—­åŒ…ã€‚</p>
<p><strong>ä½†å‡¡å‡½æ•°å†…éƒ¨çš„å‡½æ•°ï¼Œè¢«ä¿å­˜åˆ°äº†å¤–é¢ï¼Œä¸€å®šç”Ÿæˆé—­åŒ…ã€‚</strong></p>
<hr style="background-color:lightblue">

<p>å†æ¥ä¸ªè¯¦ç»†ä¸€ç‚¹çš„å›¾æ–‡ï¼š</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570780727395.png" alt="1570780727395"></p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570784350992.png" alt="1570784350992"></p>
<hr style="background-color:lightblue">

<p>å½“å†…éƒ¨å‡½æ•°è¢«ä¿å­˜åˆ°å¤–éƒ¨æ—¶ï¼Œå°†ä¼šç”Ÿæˆé—­åŒ…ã€‚</p>
<h2 id="é—­åŒ…çš„ä½œç”¨"><a href="#é—­åŒ…çš„ä½œç”¨" class="headerlink" title="é—­åŒ…çš„ä½œç”¨"></a>é—­åŒ…çš„ä½œç”¨</h2><ul>
<li><p>å®ç°å…¬æœ‰å˜é‡</p>
<ul>
<li><p>æ —å­ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> count = <span class="number">0</span>;</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">demo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">     count++;</span><br><span class="line">     <span class="built_in">console</span>.log(count);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> demo</span><br><span class="line"> &#125;</span><br><span class="line"><span class="comment">//è¿™æ ·å°±æŠŠcountè¿™ä¸ªå˜é‡å…¬æœ‰åŒ–äº†</span></span><br><span class="line"> <span class="keyword">var</span> counter = add();</span><br><span class="line">    </span><br><span class="line"> setInterval(counter, <span class="number">1000</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>å¯ä»¥åšç¼“å­˜ï¼ˆå­˜å‚¨ç»“æ„ï¼‰</p>
</li>
<li><p>å¯ä»¥å®ç°å°è£…ï¼Œå±æ€§ç§æœ‰åŒ–</p>
</li>
<li><p>æ¨¡å—åŒ–å¼€å‘ï¼Œé˜²æ­¢æ±¡æŸ“å…¨å±€å˜é‡</p>
</li>
</ul>
<p>ã€é—­åŒ…çš„ç¼ºç‚¹ã€‘é—­åŒ…ä¼šå¯¼è‡´åŸæœ‰ä½œç”¨åŸŸé“¾ä¸é‡Šæ”¾ï¼Œå ç”¨å†…å­˜ï¼Œé€ æˆå†…å­˜æ³„æ¼ã€‚</p>
<p><br><br></p>
<h2 id="ç«‹å³æ‰§è¡Œå‡½æ•°"><a href="#ç«‹å³æ‰§è¡Œå‡½æ•°" class="headerlink" title="ç«‹å³æ‰§è¡Œå‡½æ•°"></a>ç«‹å³æ‰§è¡Œå‡½æ•°</h2><p>æ‰§è¡Œå®Œç«‹å³é”€æ¯</p>
<p>ä¸¤ç§æ ¼å¼ï¼š</p>
<ul>
<li>(function () { })()</li>
<li>(function () { }())</li>
</ul>
<p><br></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">666</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test()<span class="comment">//è¿™æ ·æ˜¯å¯ä»¥æˆåŠŸæ‰§è¡Œçš„</span></span><br></pre></td></tr></table></figure>
<p>è€Œä¸”æ‰“å°testç»“æœå°±æ˜¯testå‡½æ•°çš„å‡½æ•°ä½“ã€‚é‚£ä¹ˆæˆ‘è¿™æ ·å†™è¡Œä¸è¡Œå‘¢ï¼ŸğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">666</span>);</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure>
<p>âš å¾ˆé—æ†¾ï¼Œä¸è¡Œï¼ï¼ï¼</p>
<p>è¿™é‡Œè®°ä½ï¼šã€åªæœ‰è¡¨è¾¾å¼æ‰èƒ½è¢«æ‰§è¡Œç¬¦å·()æ‰§è¡Œã€‘</p>
<p>æ‰€ä»¥ä¸Šé¢æ —å­ä¸­<code>function test(){}</code>å®ƒæ˜¯å‡½æ•°å£°æ˜ï¼Œä¸æ˜¯è¡¨è¾¾å¼ï¼Œä¸å¯ä»¥è¢«æ‰§è¡Œï¼›</p>
<p>è€Œ<code>test()</code>ä¸­<code>test</code>å°±ç®—å•ç‹¬æµç€å®ƒä¹Ÿæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä¸æ˜¯è¯´éè¦<code>a+b</code>ä¹‹ç±»çš„æ‰å«è¡¨è¾¾å¼ï¼Œå•ç‹¬çš„<code>123;</code>ã€<code>test</code>ä¹Ÿæ˜¯è¡¨è¾¾å¼äº†ã€‚</p>
<p>é‚£ä¹ˆï¼å‡½æ•°è¡¨è¾¾å¼èƒ½ä¸èƒ½è¢«æ‰§è¡Œå‘¢ï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> test = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">666</span>);</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure>
<p>éƒ½å«è¡¨è¾¾å¼äº†å®ƒå°±ä¸€å®šèƒ½è¢«æ‰§è¡Œã€‚</p>
<p>ã€å¥‡æŠ€æ·«å·§ã€‘</p>
<p>è®°ä½è¡¨è¾¾å¼èƒ½è¢«ç«‹å³æ‰§è¡Œåˆ™è¡¨è¾¾å¼çš„åå­—ä¸å­˜åœ¨ï¼Œä¸¾ä¸ªæ —å­ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> test = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">666</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨æ§åˆ¶å°æ“ä½œå¦‚ä¸‹ï¼š</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570789411336.png" alt="1570789411336"></p>
<p>è¿™ä¸ªtestçš„åå­—è¿˜ä»£è¡¨ç€è¿™ä¸ªå‡½æ•°ã€‚    </p>
<p>ä½†æ˜¯ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°è¡¨è¾¾å¼åè¾¹åŠ ä¸€ä¸ªæ‹¬å·ï¼Œè¿™ä¸ªè¡¨è¾¾å¼å°±å¯ä»¥è¢«ç«‹å³æ‰§è¡Œäº†ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> test = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">666</span>);</span><br><span class="line">&#125;();</span><br></pre></td></tr></table></figure>
<p>æ§åˆ¶å°ä¸­æ‰“å°testä¸ºundefinedï¼Œå®ƒå°±ä¸å†ä»£è¡¨å‡½æ•°äº†ï¼Œ<code>function(){console.log(666)}</code>è¢«æ°¸ä¹…çš„æ”¾å¼ƒäº†ï¼Œè¿™ä¹Ÿç¬¦åˆç«‹å³æ‰§è¡Œå‡½æ•°çš„ç‰¹ç‚¹ï¼Œç”¨å®Œå°±é”€æ¯ã€‚</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570789509076.png" alt="1570789509076"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">+ function test() &#123;</span><br><span class="line">  console.log(666);</span><br><span class="line">&#125;();</span><br></pre></td></tr></table></figure>
<p>å‡½æ•°å£°æ˜åé¢åŠ ä¸Šæ‹¬å·æ˜¯ä¸å¯ä»¥è¢«æ‰§è¡Œçš„ï¼Œä½†æ˜¯åœ¨å‡½æ•°å£°æ˜å‰é¢åŠ ä¸Šä¸€ä¸ªåŠ å·ï¼Œå°±ä¼šä½¿å¾—<code>function test(){}</code>æœ‰ä¸€ä¸ªè½¬åŒ–ä¸ºnumberç±»å‹çš„è¶‹åŠ¿ï¼Œæ•´ä¸ª<code>+ function(){}</code>å°±å˜æˆäº†ä¸€ä¸ªè¡¨è¾¾å¼,ï¼Œä»è€Œå¯ä»¥è¢«æ‹¬å·æ‰§è¡Œã€‚åŒæ ·çš„å‡å·ä¹Ÿå¯ä»¥åŠåˆ°ã€‚ä½†æ˜¯ä¹˜å·é™¤å·ä¸å¯ä»¥ã€‚</p>
<p>ä»¥ä¸‹çš„è¿ç®—ç¬¦éƒ½å¯ä»¥åŠåˆ°ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> || <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">666</span>);</span><br><span class="line">&#125;();</span><br><span class="line"></span><br><span class="line">    <span class="number">1</span> &amp;&amp; <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">666</span>);</span><br><span class="line">&#125;();</span><br><span class="line"></span><br><span class="line"> !<span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">666</span>);</span><br><span class="line">&#125;();</span><br></pre></td></tr></table></figure>
<p>è¢«æ‰§è¡Œäº†ä¹‹åï¼Œtestå°±ä¸å†ä»£è¡¨<code>function (){}</code>äº†ï¼Œå˜æˆäº†undefinedã€‚</p>
<p>ä»¥ä¸Šçš„æ ¸å¿ƒæ­¥éª¤å°±æ˜¯ã€å°†å‡½æ•°å£°æ˜å˜æˆè¡¨è¾¾å¼ï¼Œå°±å¯ä»¥è¢«ç«‹å³æ‰§è¡Œäº†ã€‘</p>
<p><strong>é‚£ä¹ˆæ‹¬å·()ä¹Ÿæ˜¯è¿ç®—ç¬¦ï¼Œå°†å‡½æ•°å£°æ˜ç”¨æ‹¬å·åŒ…èµ·æ¥ï¼Œå°±èƒ½å°†å‡½æ•°å£°æ˜å˜æˆè¡¨è¾¾å¼äº†ï¼å› æ­¤å¯ä»¥è¢«ç«‹å³æ‰§è¡Œã€‚è¿™å°±æ˜¯ç«‹å³æ‰§è¡Œå‡½æ•°çš„åŸç†ã€‚</strong></p>
<p>å¥½ï¼Œæ¥ä¸ªè¿·æƒ‘åˆæ¶å¿ƒçš„ æ —å­ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">a, b, c, d</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a + b + c + d);</span><br><span class="line">&#125; (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>);</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªå±…ç„¶ä¸æŠ¥é”™ï¼å› ä¸ºç³»ç»Ÿå°†å…¶ç†è§£æˆäº†ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">a, b, c, d</span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(a + b + c + d);</span><br><span class="line"> &#125; </span><br><span class="line"> </span><br><span class="line"> (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>);</span><br></pre></td></tr></table></figure>
<p>è™½ç„¶ä¸æŠ¥é”™ï¼Œä½†ä¹Ÿæ²¡æ‰§è¡Œtestå‡½æ•°ã€‚</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570795567350.png" alt="1570795567350"></p>
<p>å†æ¥ä¸€ä¸ªğŸ‘‡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f = (</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"1"</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">g</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line">)();</span><br><span class="line"><span class="built_in">console</span>.log(f);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> f);</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570807949996.png" alt="1570807949996"></p>
<p>å†æ¥ä¸€ä¸ªéš¾çš„æ —å­ğŸ‘‡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123; &#125;) &#123;</span><br><span class="line">  x += <span class="keyword">typeof</span> f;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(x);</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570810489773.png" alt="1570810489773"></p>
<hr>

<p>ã€ä¸€é¢—ç»å…¸çš„æ —å­ã€‘ğŸ‘‡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> arr = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    arr[i] = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test().forEach(<span class="function"><span class="params">element</span> =&gt;</span> &#123;</span><br><span class="line">  element()</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æƒ³è¦çš„ç»“æœæ˜¯è¾“å‡ºä»0åˆ°9ï¼Œä½†æ˜¯ç»“æœæ˜¯è¾“å‡ºäº†åä¸ª10ã€‚ä¸ºå•¥å‘¢ï¼Ÿ</p>
<p>åœ¨forå¾ªç¯çš„è¿‡ç¨‹ä¸­ï¼ŒæŠŠå‡½æ•°ä½“<code>function(){console.log(i)}</code>èµ‹ç»™äº†arr[0]ã€arr[1]ã€arr[2]ã€‚ã€‚ã€‚ã€‚ã€‚arr[9]ï¼Œæ³¨æ„ä¸æ˜¯æŠŠ<code>function(){console.log(0)}</code>èµ‹ç»™äº†arr[0]ã€æŠŠ<code>function(){console.log(1)}</code>èµ‹ç»™arr[1]ã€‚ã€‚ã€‚æŠŠ<code>function(){console.log(9)}</code>èµ‹ç»™arr[9]ã€‚è¿™ç‚¹è¦ææ¸…æ¥šã€‚æ‰€ä»¥å¾ªç¯ç»“æŸï¼Œæ˜¯æŠŠåä¸ªç›¸åŒçš„å‡½æ•°ä½“èµ‹ç»™äº†æ•°ç»„arrï¼Œè€Œåœ¨æ‰§è¡Œarré‡Œçš„æ¯ä¸€ä¸ªå…ƒç´ å³æ¯ä¸€ä¸ªå‡½æ•°ä½“çš„æ—¶å€™ï¼Œæ‰ä¼šç»™å‡½æ•°ä½“é‡Œçš„ i è¿›è¡Œèµ‹å€¼ï¼Œè€Œèµ‹å€¼çš„æ—¶å€™å¯ä»¥çœ‹åˆ° i çš„å€¼ä¸º10ï¼æ‰€ä»¥æœ€ç»ˆæ‰“å°é™¤äº†åä¸ª10ã€‚</p>
<p>{å»ºè®®æ‰‹å†™GOã€AOä½œç”¨åŸŸé“¾ï¼Œå¯ä»¥æ›´ç†è§£æ¸…æ™°ï¼‰</p>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<p>æ–¹æ³•ä¸€ï¼šåˆ©ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> arr = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span> (<span class="params">j</span>) </span>&#123;</span><br><span class="line">      arr[j] = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(j);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)(i)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test().forEach(<span class="function"><span class="params">element</span> =&gt;</span> &#123;</span><br><span class="line">  element()</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>æ–¹æ¡ˆäºŒï¼šå¦ä¸€ç§ç«‹å³æ‰§è¡Œå‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> arr = [];</span><br><span class="line">  <span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span> (<span class="params">ele</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(ele);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    arr[i] = foo(i)ï¼›<span class="comment">//å‚æ•°ä¼ å…¥æ—¶fooå‡½æ•°å°±æ‰§è¡Œäº†</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test().forEach(<span class="function"><span class="params">element</span> =&gt;</span> &#123;</span><br><span class="line">  element</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šæ —å­çš„å®é™…åº”ç”¨å¦‚ä¸‹ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç»™æ¯ä¸ªliæ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œç‚¹å‡»æ—¶æ‰“å°è¯¥liçš„é¡ºåº</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> liCollection = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'li'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; liCollection.length; i++) &#123;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span> (<span class="params">j</span>) </span>&#123;</span><br><span class="line">      liCollection[j].onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(j);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)(i)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test()</span><br></pre></td></tr></table></figure>
<p><br><br></p>
<h2 id="with"><a href="#with" class="headerlink" title="with"></a>with</h2><p>with å¯ä»¥æ”¹å˜ä½œç”¨åŸŸé“¾</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'obj-name'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">"window"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name = <span class="string">'scope'</span>;</span><br><span class="line">  <span class="keyword">with</span> (obj) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">test()</span><br></pre></td></tr></table></figure>
<p>with(obj){â€¦}æ‹¬å·é‡Œå¡«å…¥å¯¹è±¡objï¼Œä¼šæŠŠè¿™ä¸ªå¯¹è±¡objå½“ä½œwithåœˆå®šçš„ä»£ç ä½“çš„ä½œç”¨åŸŸé“¾çš„æœ€é¡¶ç«¯ï¼Œå³æŠŠobjå½“ä½œæœ€é¡¶ç«¯çš„AOï¼ˆæ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰ï¼Œæ‰€ä»¥æ‰“å°å‡ºæ¥çš„nameå°±æ˜¯objé‡Œçš„nameã€‚</p>
<p>ğŸ’¡åº”ç”¨åœºæ™¯</p>
<p>ä¹‹å‰è¯´è¿‡å‘½åç©ºé—´</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> org = &#123;</span><br><span class="line">  dp1: &#123;</span><br><span class="line">    jc: &#123;</span><br><span class="line">      name: <span class="string">'jicheng'</span>,</span><br><span class="line">      age: <span class="number">22</span></span><br><span class="line">    &#125;,</span><br><span class="line">    deng: &#123;</span><br><span class="line">      name: <span class="string">"laodeng"</span>,</span><br><span class="line">      age: <span class="number">30</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  dp2: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“dp1éƒ¨é—¨çš„jcè¦å¼€å‘çš„æ—¶å€™,é€šè¿‡å¦‚ä¸‹æ–¹å¼è·å–å¹¶ç¼–ç¨‹</span></span><br><span class="line"><span class="comment">// org.dp1.jc.age</span></span><br><span class="line"><span class="comment">// org.dp1.jc.name</span></span><br><span class="line"><span class="comment">// org.dp1.jc.xxx....</span></span><br><span class="line"><span class="comment">// è¿™æ ·å¤ªéº»çƒ¦äº†ï¼Œå¯ä»¥å…ˆvar jc = org.dp1.jc  ä»è€Œç®€åŒ–ä»£ç </span></span><br><span class="line"><span class="comment">// å®é™…ä¸Šå¼€å‘æ—¶ä½¿ç”¨withçš„ï¼Œè¿™æ ·æœ€ç®€ä¾¿</span></span><br><span class="line"><span class="keyword">with</span> (org.dp1.jc) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(name);</span><br><span class="line">  <span class="built_in">console</span>.log(age);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>âš ä½¿ç”¨withä¼šé™ä½æ•ˆç‡ï¼Œæ‰€ä»¥<br>ES5ä¸¥æ ¼æ¨¡å¼ç¦æ­¢ä½¿ç”¨å®ƒã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dunteng.github.io/[object Object]2019/10/17/Vueé¡µé¢é—´é€šä¿¡ä¼ å€¼çš„æ–¹æ³•.html">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dunteng Lin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunteng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/[object Object]2019/10/17/Vueé¡µé¢é—´é€šä¿¡ä¼ å€¼çš„æ–¹æ³•.html" itemprop="url">Vueé¡µé¢é—´é€šä¿¡ä¼ å€¼çš„æ–¹æ³•</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-10-17T00:00:00+08:00">
                2019-10-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="é¡µé¢è·³è½¬ä¸ä¼ å€¼"><a href="#é¡µé¢è·³è½¬ä¸ä¼ å€¼" class="headerlink" title="é¡µé¢è·³è½¬ä¸ä¼ å€¼"></a>é¡µé¢è·³è½¬ä¸ä¼ å€¼</h2><h3 id="ä¸€ã€ä½¿ç”¨router-link"><a href="#ä¸€ã€ä½¿ç”¨router-link" class="headerlink" title="ä¸€ã€ä½¿ç”¨router-link"></a>ä¸€ã€ä½¿ç”¨router-link</h3><p>routesè·¯ç”±ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">      &#123;</span><br><span class="line">        path: <span class="string">'/'</span>,</span><br><span class="line">        name: <span class="string">'Index'</span>,</span><br><span class="line">        component: Index</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        path: <span class="string">'/deitail'</span>,</span><br><span class="line">        name: <span class="string">'deitail'</span>,</span><br><span class="line">        component: deitail</span><br><span class="line">      &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>&lt;router-link&gt;</code>è¿›è¡Œè·³è½¬å’Œä¼ å€¼</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link :to=&quot;&#123;name:&apos;deitail&apos;,params:&#123;freezeMon:&apos;2017-10&apos;,owerName:&apos;è¥¿å®‰&apos;&#125;&#125;&quot; tag=&quot;div&quot; &gt;</span><br><span class="line">&lt;/router-link&gt;</span><br></pre></td></tr></table></figure>
<p>å–å€¼æ—¶ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;$route.params.freezeMon&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å°ç»“ï¼šrouter-linkè·³è½¬ä¼ å€¼è¦æ³¨æ„çš„åœ°æ–¹</p>
<ul>
<li>toå‰é¢è¦åŠ  <code>:</code></li>
<li>toåé¢{ä¸­çš„nameå€¼è¦ä¸è·¯ç”±ä¸­çš„nameå€¼ä¸€è‡´</li>
</ul>
<h3 id="äºŒã€ä½¿ç”¨-router-push"><a href="#äºŒã€ä½¿ç”¨-router-push" class="headerlink" title="äºŒã€ä½¿ç”¨$router.push()"></a>äºŒã€ä½¿ç”¨$router.push()</h3><h4 id="queryå†™æ³•"><a href="#queryå†™æ³•" class="headerlink" title="queryå†™æ³•"></a>queryå†™æ³•</h4><p><strong>ä¼ å€¼çš„è·¯ç”±</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$router.push(&#123;</span><br><span class="line">  path: <span class="string">"/login?uname="</span> + <span class="keyword">this</span>.userName</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><strong>ä¼ å€¼è·¯ç”±ç¬¬äºŒç§å†™æ³•</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$router.push(&#123;</span><br><span class="line">  path: <span class="string">"/login"</span>,</span><br><span class="line">  query: &#123;</span><br><span class="line">    uname: <span class="keyword">this</span>.userName</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>æ¥æ”¶å€¼çš„è·¯ç”±</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"æ¥æ”¶è¿‡æ¥çš„å€¼ä¸ºï¼š"</span> + <span class="keyword">this</span>.$route.query.uname);        <span class="comment">//è¿™é‡Œæ˜¯$route æ²¡æœ‰r----</span></span><br></pre></td></tr></table></figure>
<p><br></p>
<h4 id="paramså†™æ³•"><a href="#paramså†™æ³•" class="headerlink" title="paramså†™æ³•"></a>paramså†™æ³•</h4><p><strong>ä¼ å€¼è·¯ç”±ç¬¬ä¸€ç§å†™æ³•ï¼ˆè¿˜æ˜¯ä¼šå°†å‚æ•°æ˜¾ç¤ºåœ¨åœ°å€æ ä¸­ï¼‰</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$router.push(&#123;</span><br><span class="line">  path: <span class="string">"/login/"</span> + <span class="keyword">this</span>.userName</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><strong>ä¼ å€¼è·¯ç”±çš„ç¬¬äºŒç§å†™æ³•ï¼ˆä¸ä¼šå°†å‚æ•°æ˜¾ç¤ºåœ¨åœ°å€æ ä¸­ï¼‰</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.$router.push(&#123;</span><br><span class="line">  name: <span class="string">"login"</span>,</span><br><span class="line">  params: &#123;</span><br><span class="line">    uname: <span class="keyword">this</span>.userName</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><strong>æ¥æ”¶å€¼çš„è·¯ç”±</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"æ¥æ”¶è¿‡æ¥çš„å€¼ä¸ºï¼š"</span> + <span class="keyword">this</span>.$route.params.uname);</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šåœ¨ä½¿ç”¨paramsä¼ é€’å‚æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åœ¨routerçš„å¯¹è±¡é‡Œé¢ï¼Œæ‰¾åˆ°å½“å‰çš„è¿™ä¸ªè·¯ç”±ï¼Œç„¶åå»æ›´æ”¹å®ƒçš„ path</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   path: <span class="string">"/login/:uname"</span>, <span class="comment">//ä»£è¡¨å½“å‰urlè·³è½¬çš„è·¯å¾„</span></span><br><span class="line">   component: login, <span class="comment">//ä»£è¡¨åœ¨å½“å‰è¿™ä¸ªè·¯å¾„ä¸‹é¢ï¼Œæˆ‘ä»¬å¦‚ä½•æ˜¾ç¤ºç»„ä»¶ï¼ˆæ˜¾ç¤ºé‚£ä¸€ä¸ªç»„ä»¶ï¼‰</span></span><br><span class="line">   name: <span class="string">"login"</span> <span class="comment">//ç»™å½“å‰è·¯ç”±å–ä¸€ä¸ªåˆ«å</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„pathåé¢æ˜¯ /login/:uname ,è¿™ä¸€ä¸ªæ˜¯æˆ‘ä»¬çš„ä¸€ä¸ªè·¯å¾„å˜é‡ï¼Œå‰é¢çš„loginä»£è¡¨è·¯ç”±ï¼Œè€Œåé¢<code>:uname</code>ä»£è¡¨çš„æ˜¯å˜é‡</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dunteng.github.io/[object Object]2019/10/15/é˜²æŠ–èŠ‚æµ.html">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dunteng Lin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunteng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/[object Object]2019/10/15/é˜²æŠ–èŠ‚æµ.html" itemprop="url">é˜²æŠ–èŠ‚æµ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-10-15T00:00:00+08:00">
                2019-10-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="èƒŒæ™¯é—®é¢˜"><a href="#èƒŒæ™¯é—®é¢˜" class="headerlink" title="èƒŒæ™¯é—®é¢˜"></a>èƒŒæ™¯é—®é¢˜</h2><p>åœ¨å‰ç«¯å¼€å‘ä¸­æœ‰ä¸€éƒ¨åˆ†çš„ç”¨æˆ·è¡Œä¸ºä¼šé¢‘ç¹çš„è§¦å‘äº‹ä»¶ï¼Œä»è€Œé¢‘ç¹åœ°æ‰§è¡Œå‡½æ•°ï¼Œè€Œå¯¹äºDOMæ“ä½œã€èµ„æºåŠ è½½ç­‰è€—è´¹æ€§èƒ½çš„å¤„ç†ï¼Œå¾ˆå¯èƒ½å¯¼è‡´ç•Œé¢å¡é¡¿ï¼Œç”šè‡³æµè§ˆå™¨å´©æºƒï¼ˆæœ¬è´¨æ˜¯å› ä¸ºjsæ˜¯å•çº¿ç¨‹çš„ï¼‰ã€‚</p>
<p>å‡½æ•°èŠ‚æµï¼ˆthrottleï¼‰å’Œå‡½æ•°é˜²æŠ–ï¼ˆdebounceï¼‰å¯ä»¥è§£å†³é—®é¢˜ã€‚</p>
<h2 id="é˜²æŠ–"><a href="#é˜²æŠ–" class="headerlink" title="é˜²æŠ–"></a>é˜²æŠ–</h2><p>å‡½æ•°é˜²æŠ–å°±æ˜¯åœ¨å‡½æ•°éœ€è¦é¢‘ç¹è§¦å‘æƒ…å†µæ—¶ï¼Œåªæœ‰ç­‰è¶³å¤Ÿç©ºé—²çš„äº‹ä»¶ï¼Œæ‰æ‰§è¡Œï¼Œä¸ºäº†é¿å…åˆæœ‰äº‹ä»¶è§¦å‘ã€‚</p>
<ul>
<li>å¸¸è§åº”ç”¨åœºæ™¯ï¼šæœç´¢æ¡†å®æ—¶æœç´¢è¯·æ±‚æ•°æ®ã€æ‹–æ‹½</li>
</ul>
<ul>
<li>ä»£ç å®ç°ï¼š</li>
</ul>
<p>å…³é”®ç‚¹ï¼šè®¾ç½®å®šæ—¶å™¨ã€thisçš„æŒ‡å‘ã€argumentsçš„æŒ‡å‘ </p>
<p>æ¨¡æ‹Ÿæœç´¢æ¡†å®æ—¶è¯·æ±‚æ•°æ®ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oInp = <span class="built_in">document</span>.getElementById(<span class="string">'inp'</span>);</span><br><span class="line">    </span><br><span class="line"><span class="keyword">var</span> timer = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">oInp.oninput = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// console.log(arguments);</span></span><br><span class="line">  <span class="keyword">var</span> _self = <span class="keyword">this</span>;<span class="comment">//æƒ³è¦çš„æ˜¯è¾“å…¥æ¡†inputçš„æ•°æ®ï¼Œè‹¥æ— æ­¤æ­¥ï¼ŒsetTimeoutçš„thisæŒ‡å‘window</span></span><br><span class="line">  <span class="keyword">var</span> _arg = <span class="built_in">arguments</span>;</span><br><span class="line">  clearTimeout(timer);</span><br><span class="line">  timer = setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    ajax.apply(_self, _arg)<span class="comment">//æ”¹å˜thisæŒ‡å‘ï¼Œè®©è¾“å…¥æ¡†å…ƒç´ å®é™…è°ƒç”¨è¿™ä¸ªå‡½æ•°</span></span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e, <span class="keyword">this</span>.value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç åªèƒ½åº”å¯¹å‘é€ajaxè¿™ç§ä¸šåŠ¡ï¼Œä¸‹é¢è¿›è¡Œä¸€ä¸‹é˜²æŠ–çš„å°è£…</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oInp = <span class="built_in">document</span>.getElementById(<span class="string">'inp'</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e, <span class="keyword">this</span>.value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">handler, delay</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// handler  è¦è¿›è¡Œé˜²æŠ–å¤„ç†çš„åŠŸèƒ½æ€§å‡½æ•°</span></span><br><span class="line">  <span class="comment">// delay    å»¶è¿Ÿæ—¶é—´</span></span><br><span class="line">  <span class="keyword">var</span> timer = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> _self = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">var</span> _arg = <span class="built_in">arguments</span>;</span><br><span class="line">    clearTimeout(timer);</span><br><span class="line">    timer = setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      handler.apply(_self, _arg)</span><br><span class="line">    &#125;, delay);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">oInp.oninput = debounce(ajax, <span class="number">2000</span>);</span><br></pre></td></tr></table></figure>
<h2 id="èŠ‚æµ"><a href="#èŠ‚æµ" class="headerlink" title="èŠ‚æµ"></a>èŠ‚æµ</h2><p>å‡½æ•°èŠ‚æµå°±æ˜¯é¢„å®šä¸€ä¸ªå‡½æ•°åªæœ‰åœ¨å¤§äºæˆ–ç­‰äºæ‰§è¡Œå‘¨æœŸæ—¶æ‰æ‰§è¡Œï¼Œå‘¨æœŸå†…è°ƒç”¨ä¸æ‰§è¡Œã€‚</p>
<ul>
<li>å¸¸è§åº”ç”¨åœºæ™¯<ul>
<li>çª—å£è°ƒæ•´</li>
<li>é¡µé¢æ»šåŠ¨æ•°æ®åŠ è½½</li>
<li>é˜²æ­¢æ¶æ„è„šæœ¬æŠ¢è´­ç–¯ç‹‚ç‚¹å‡»</li>
</ul>
</li>
</ul>
<ul>
<li><p>ä»£ç å®ç°</p>
<p>æ¨¡æ‹ŸæŠ¢çº¢åŒ…çš„åŠŸèƒ½ğŸ‘‡</p>
<p><img src="C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\1571146823113.png" alt="1571146823113"></p>
<p>è¿™ç§ä»£ç å¦‚æœè¢«äººæ³¨å…¥æ¶æ„è„šæœ¬ï¼Œä½¿å¾—æŒ‰é’®ç‚¹å‡»äº‹ä»¶ç–¯ç‹‚è§¦å‘ï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯éƒ½å—ä¸äº†ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œä½¿ç”¨èŠ‚æµæ“ä½œã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">æˆ‘æŠ¢åˆ°<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"show"</span>&gt;</span>0<span class="tag">&lt;/<span class="name">span</span>&gt;</span>ä¸ªçº¢åŒ…ï¼</span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>ç‚¹å‡»<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line"><span class="keyword">var</span> oSpan = <span class="built_in">document</span>.getElementById(<span class="string">'show'</span>);</span><br><span class="line"><span class="keyword">var</span> oBtn = <span class="built_in">document</span>.getElementById(<span class="string">'btn'</span>);</span><br><span class="line">  </span><br><span class="line"><span class="comment">// oBtn.onclick = function () &#123;</span></span><br><span class="line"><span class="comment">//   oSpan.innerText = parseInt(oSpan.innerText) + 1;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line">oBtn.onclick = throttle(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  oSpan.innerText = <span class="built_in">parseInt</span>(oSpan.innerText) + <span class="number">1</span>;</span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">handler, wait</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> lastTime = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> nowTime = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line">    <span class="keyword">if</span> (nowTime - lastTime &gt; wait) &#123;</span><br><span class="line">      handler();</span><br><span class="line">      lastTime = nowTime;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å†æ”¹è¿›ä¸€ä¸‹ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oSpan = <span class="built_in">document</span>.getElementById(<span class="string">'show'</span>);</span><br><span class="line"><span class="keyword">var</span> oBtn = <span class="built_in">document</span>.getElementById(<span class="string">'btn'</span>);</span><br><span class="line">  </span><br><span class="line">oBtn.onclick = throttle(crazyClick, <span class="number">1000</span>)</span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">handler, wait</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> lastTime = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> nowTime = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span><br><span class="line">        <span class="keyword">if</span> (nowTime - lastTime &gt; wait) &#123;</span><br><span class="line">            handler.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</span><br><span class="line">            lastTime = nowTime;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">crazyClick</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>, e);</span><br><span class="line">    oSpan.innerText = <span class="built_in">parseInt</span>(oSpan.innerText) + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><br></p>
<p>å‡è®¾æ— é™æ¬¡è§¦å‘ï¼šé˜²æŠ–å‡½æ•°æ°¸è¿œä¸ä¼šçœŸæ­£æ‰§è¡Œï¼›èŠ‚æµå‡½æ•°åˆ™ä¼šæŒ‰ç…§é—´éš”æ—¶é—´æ‰§è¡Œã€‚</p>
<p>é˜²æŠ–åŠ¨å’ŒèŠ‚æµæœ¬è´¨æ˜¯ä¸ä¸€æ ·çš„ã€‚é˜²æŠ–åŠ¨æ˜¯å°†å¤šæ¬¡æ‰§è¡Œå˜ä¸ºæœ€åä¸€æ¬¡æ‰§è¡Œï¼ŒèŠ‚æµæ˜¯å°†å¤šæ¬¡æ‰§è¡Œå˜æˆæ¯éš”ä¸€æ®µæ—¶é—´æ‰§è¡Œã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dunteng.github.io/[object Object]2019/10/08/Redis.html">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dunteng Lin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunteng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/[object Object]2019/10/08/Redis.html" itemprop="url">Redis</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-10-08T00:00:00+08:00">
                2019-10-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ç¼“å­˜èƒŒæ™¯"><a href="#ç¼“å­˜èƒŒæ™¯" class="headerlink" title="ç¼“å­˜èƒŒæ™¯"></a>ç¼“å­˜èƒŒæ™¯</h2><p>ç”±äºæ•°æ®åº“æ˜¯å»ºç«‹åœ¨ç¡¬ç›˜ä¸Šçš„ï¼Œå½“æœ‰å¤§é‡æ•°æ®è¯»å†™æ•°æ®åº“æ—¶ï¼Œè€Œç¡¬ç›˜çš„è¯»å†™é€Ÿåº¦æ…¢ï¼Œå¯¼è‡´æ•°æ®åº“æ€§èƒ½æœ‰ç“¶é¢ˆï¼Œæ•°æ®ååä¸å¤Ÿã€‚</p>
<p>å› æ­¤åœ¨å®¢æˆ·ç«¯å’Œæ•°æ®åº“ä¹‹å‰é—´ï¼ŒåŠ ä¸€ä¸ª<strong>ç¼“å­˜</strong>ï¼Œè€Œè¿™ä¸ªç¼“å­˜æ˜¯ç”¨å†…å­˜åšçš„ï¼Œ<strong>å†…å­˜çš„è¯»å†™é€Ÿåº¦éå¸¸å¿«</strong>ã€‚ å½“è¦å¯¹æ•°æ®åº“è¿›è¡Œè¯»å†™æ—¶ï¼Œå…ˆè®¿é—®ä¸­é—´å±‚çš„ç¼“å­˜ï¼Œè¯»æ•°æ®æ—¶å…ˆçœ‹ç¼“å­˜ä¸­æœ‰æ— æƒ³è¦çš„æ•°æ®ï¼Œè‹¥æœ‰ç›´æ¥ä»ç¼“å­˜æ‹¿ï¼Œè‹¥æ— åˆ™å†å»è®¿é—®æ•°æ®åº“ï¼›å†™æ•°æ®æ—¶ï¼Œå…ˆå†™è¿›ç¼“å­˜ï¼Œä¹‹åç¼“å­˜å†æ…¢æ…¢åŒæ­¥åˆ°æ•°æ®åº“ã€‚è¿™æ ·å°±å¸®æ•°æ®åº“æœ‰æ•ˆåœ°æ‹¦æˆªäº†ä¸€äº›é¢‘ç¹çš„è¯»å†™æ“ä½œã€‚</p>
<p><img src="https://pic4.zhimg.com/v2-ae215207d175303dd4e37b37b61a7d33_r.jpg" alt=""></p>
<p>ã€ä»€ä¹ˆæ ·çš„æ•°æ®å­˜å…¥ç¼“å­˜ã€‘ç¼“å­˜ä¸­å­˜çš„åº”æ˜¯è¯»å†™æ•°æ®åº“éå¸¸é¢‘ç¹çš„æ•°æ®ã€‚</p>
<p>ã€é˜²æ­¢ç¼“å­˜ç©¿é€ã€‘ç¼“å­˜ç©¿é€æ˜¯æŒ‡æŸ¥è¯¢ä¸€ä¸ªä¸€å®šä¸å­˜åœ¨çš„æ•°æ®ï¼Œç”±äºç¼“å­˜æ˜¯ä¸å‘½ä¸­æ—¶è¢«åŠ¨å†™çš„ï¼Œå¹¶ä¸”å‡ºäºå®¹é”™è€ƒè™‘ï¼Œå¦‚æœä»å­˜å‚¨å±‚æŸ¥ä¸åˆ°æ•°æ®åˆ™ä¸å†™å…¥ç¼“å­˜ï¼Œè¿™å°†å¯¼è‡´è¿™ä¸ªä¸å­˜åœ¨çš„æ•°æ®æ¯æ¬¡è¯·æ±‚éƒ½è¦åˆ°å­˜å‚¨å±‚å»æŸ¥è¯¢ï¼Œå¤±å»äº†ç¼“å­˜çš„æ„ä¹‰ã€‚åœ¨æµé‡å¤§æ—¶ï¼Œå¯èƒ½DBå°±æŒ‚æ‰äº†ï¼Œè¦æ˜¯æœ‰äººåˆ©ç”¨ä¸å­˜åœ¨çš„keyé¢‘ç¹æ”»å‡»æˆ‘ä»¬çš„åº”ç”¨ï¼Œè¿™å°±æ˜¯æ¼æ´ã€‚è¿™éœ€è¦ä¸€äº›ç®—æ³•å»è¯†åˆ«ï¼Œæ¯”å¦‚å¸ƒéš†ç®—æ³•ã€‚å‚è€ƒæ–‡ç« ğŸ‘‰<a href="https://blog.csdn.net/zeb_perfect/article/details/54135506" target="_blank" rel="noopener">ç‚¹å‡»</a></p>
<p><br></p>
<p>ç¼“å­˜è¿™ä¸€å±‚å°±ç”¨<strong>Redis</strong>æ¥åšã€‚Redisæ—¢ä½¿ç”¨å†…å­˜ï¼Œä¹Ÿä½¿ç”¨ç¡¬ç›˜ã€‚ä½œä¸ºè¯»å†™æ“ä½œçš„æ—¶å€™æ˜¯ç”¨å†…å­˜çš„ï¼Œä½†æ˜¯å†…å­˜å­˜æ•°æ®æ˜¯æš‚æ—¶çš„ï¼Œæœºå™¨ä¸€å…³å†…å­˜é‡Œçš„ä¸œè¥¿å°±æ²¡äº†ï¼Œæ‰€ä»¥éœ€è¦ç”¨åˆ°ç¡¬ç›˜æ¥åšç¼“å­˜å¤‡ä»½ã€‚å†…å­˜ä¸ç¡¬ç›˜ä¹‹é—´æ˜¯åŒæ­¥æ•°æ®å’Œæ¢å¤æ•°æ®çš„å…³ç³»ã€‚</p>
<p>Redisæ˜¯ç”¨Cè¯­è¨€å†™çš„ï¼ŒRedisæ”¯æŒå¤šç§æ•°æ®ç»“æ„ï¼Œkey-valueã€key-mapã€key-setã€key-listç­‰ç­‰ã€‚æ¯”è¾ƒå¸¸ç”¨çš„å°±æ˜¯key-valueï¼Œkeyä¸€èˆ¬æ˜¯å­—ç¬¦ä¸²ï¼Œvalueå¯ä»¥æ˜¯æ•°å­—ä¹Ÿå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€‚ä½†æ˜¯Cè¯­è¨€ä¸­æ˜¯æ²¡æœ‰å­—ç¬¦ä¸²çš„ã€‚è€ŒRedisä¸­çš„å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¯å˜çš„ï¼Œæ˜¯ç”¨äº†SDSç»“æ„ï¼ˆSimple Dynamic Stringï¼‰ã€‚</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">sdshdr</span> &#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®°å½• buf æ•°ç»„ä¸­å·²ä½¿ç”¨å­—èŠ‚çš„æ•°é‡</span></span><br><span class="line">    <span class="comment">// ç­‰äº SDS æ‰€ä¿å­˜å­—ç¬¦ä¸²çš„é•¿åº¦</span></span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®°å½• buf æ•°ç»„ä¸­æœªä½¿ç”¨å­—èŠ‚çš„æ•°é‡</span></span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">free</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å­—èŠ‚æ•°ç»„ï¼Œç”¨äºä¿å­˜å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">char</span> buf[];</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å½“å­—ç¬¦ä¸²å˜é•¿æ—¶ï¼Œå…ˆçœ‹sdsç»“æ„å†…freeè¿˜æœ‰æ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼Œæ²¡æœ‰çš„è¯å°±è¦é‡æ–°åˆ›å»ºä¸€ä¸ªæ›´å¤§çš„å­—èŠ‚æ•°ç»„ç”¨ä»¥å­˜å‚¨å˜é•¿åçš„å­—ç¬¦ä¸²ã€‚</p>
<p>å…³äºæ›´å¤šRedisæºç çš„çŸ¥è¯†è¿™é‡Œå°±ä¸è¯´äº†ï¼Œå› ä¸ºæˆ‘åªæ‡‚ä¸€ç‚¹çš®æ¯›ã€‚</p>
<p><br></p>
<h2 id="Windowsä½¿ç”¨Redis"><a href="#Windowsä½¿ç”¨Redis" class="headerlink" title="Windowsä½¿ç”¨Redis"></a>Windowsä½¿ç”¨Redis</h2><p>Redisæ˜¯å¾®è½¯å¼€æºçš„ä¸€ä¸ªå­˜å‚¨æ•°æ®åº“ã€‚å¯ä»¥åœ¨GitHubä¸Šä¸‹è½½ğŸ‘‰<a href="https://github.com/microsoftarchive/redis/releases" target="_blank" rel="noopener">https://github.com/microsoftarchive/redis/releases</a></p>
<p>æ³¨æ„windowç³»ç»Ÿä¸­åªæœ‰64ä½çš„ç³»ç»Ÿæ‰èƒ½ä½¿ç”¨Redisã€‚</p>
<p><img src="https://pic2.zhimg.com/v2-754e178d110a14222ca88e9d52ee724d_r.jpg" alt=""></p>
<p>ä¸‹è½½åç‚¹å‡»ï¼Œä¸éœ€è¦é…ç½®ä»€ä¹ˆï¼ŒæŒ‰æç¤ºå®‰è£…å°±è¡Œäº†ã€‚å®‰è£…åè¦é…ç½®ä¸€äº›é…ç½®æ–‡ä»¶ã€‚</p>
<p><br></p>
<p><strong>è®¾ç½®é“¾æ¥å¯†ç ï¼Œä¿®æ”¹redis.windows-service.conf</strong></p>
<p>â€‹    <img src="https://pic4.zhimg.com/v2-3d74b5d6edf13cb03fca1b642b1abc6b_r.jpg" alt=""></p>
<p><br></p>
<p><strong>æŸ¥çœ‹æ˜¯å¦å…è®¸æœ¬åœ°è®¿é—®</strong>ï¼Œæœ‰çš„ç‰ˆæœ¬æ˜¯å…è®¸çš„ï¼Œå¦‚ä¸‹æ‰€ç¤º</p>
<p><img src="https://pic3.zhimg.com/v2-f62414b17a45477d65578f64858c555e_r.jpg" alt=""></p>
<p><br></p>
<p>é…ç½®ä¿®æ”¹åéœ€è¦é‡å¯Redisï¼Œæ‰“å¼€ç³»ç»Ÿçš„â€æœåŠ¡â€œï¼Œæ‰¾åˆ°Redisé‡å¯å³å¯ã€‚</p>
<p><br></p>
<p>åŒå‡»redis-cli.exeå¯åŠ¨ã€‚</p>
<p>è¾“å…¥<code>auth 123456</code>è¿æ¥Redisã€‚é€šè¿‡<code>set</code>é”®å€¼å¯¹æ¥å†™å…¥æ•°æ®ï¼Œé€šè¿‡<code>get</code>é”®æ¥è·å–æ•°æ®ã€‚</p>
<p><img src="https://pic4.zhimg.com/80/v2-c2683c7ddec97d9396f726cfbe89c9bb_hd.jpg" alt=""></p>
<h2 id="CentOSä½¿ç”¨Redis"><a href="#CentOSä½¿ç”¨Redis" class="headerlink" title="CentOSä½¿ç”¨Redis"></a>CentOSä½¿ç”¨Redis</h2><p>ä½¿ç”¨å®‰è£…åŒ…ä¸‹è½½ğŸ‘‡</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://download.redis.io/releases/redis-4.0.2.tar.gz</span><br></pre></td></tr></table></figure>
<p>è§£å‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar xzf redis-4.0.2.tar.gz</span><br></pre></td></tr></table></figure>
<p>ä¸‹è½½gccä¾èµ–ç¯å¢ƒ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install gcc</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">make MOLLOC=libc</span><br><span class="line"></span><br><span class="line">make install</span><br></pre></td></tr></table></figure>
<p>ä¹‹åå†<code>/usr/local/bin</code>ç›®å½•ä¸‹å°±å¤šäº†Redisçš„å¯æ‰§è¡Œæ–‡ä»¶</p>
<p><img src="https://pic3.zhimg.com/v2-8dda927023de977c96fdf8b25f4b581e_r.jpg" alt=""></p>
<p>æ‰§è¡Œå‘½ä»¤ğŸ‘‡</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-sever &amp;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å®ƒå°±å¯ä»¥åœ¨åå°è¿è¡Œäº†ã€‚</p>
<p>æ‰§è¡Œ<code>ps aux grep|&quot;redis&quot;</code>æŸ¥çœ‹åˆ°redisçš„è¿›ç¨‹æ­£åœ¨æ‰§è¡Œã€‚</p>
<p>å¦‚æœè¦å…³é—­Redisï¼Œå°±æ€äº†å®ƒçš„è¿›ç¨‹ã€‚</p>
<p><img src="https://pic1.zhimg.com/v2-dff48949afd760407a8abce57ff851ec_r.jpg" alt=""></p>
<p><br></p>
<h2 id="nodeæ“ä½œRedis"><a href="#nodeæ“ä½œRedis" class="headerlink" title="nodeæ“ä½œRedis"></a>nodeæ“ä½œRedis</h2><p>éœ€è¦<code>npm install redis --save</code>å®‰è£…redisæ¨¡å—ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> redis = <span class="built_in">require</span>(<span class="string">'redis'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> port = <span class="number">6379</span>;</span><br><span class="line"><span class="keyword">var</span> host = <span class="string">"127.0.0.1"</span>;</span><br><span class="line"><span class="keyword">var</span> password = <span class="string">"123456"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> client = redis.createClient(port, host);</span><br><span class="line">client.auth(password, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"OKï¼Œredisè¿æ¥æˆåŠŸ"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getKey</span>(<span class="params">key, callback</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    client.on(<span class="string">"connect"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        client.get(key, callback);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setKey</span>(<span class="params">key, value, callback</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    client.on(<span class="string">'connect'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        client.set(key, value, callback);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params">error, reply</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (error == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(reply);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">setKey(<span class="string">'iii'</span>, <span class="string">'III'</span>, callback);</span><br><span class="line">getKey(<span class="string">'iii'</span>, callback);</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>ä¹‹å‰è¯´è¿‡redisé™¤äº†key-valueçš„æ•°æ®ç»“æ„ï¼Œè¿˜å¯ä»¥å­˜å“ˆå¸Œç»“æ„çš„æ•°æ®ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sethash</span>(<span class="params">hash, key, value, callback</span>) </span>&#123;</span><br><span class="line">    client.on(<span class="string">'connect'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        client.hset(hash, key, value, callback)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">gethash</span>(<span class="params">hash, key, callback</span>) </span>&#123;</span><br><span class="line">    client.on(<span class="string">'connect'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        client.hget(hash, key, callback)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getallhash</span>(<span class="params">hash, callback</span>) </span>&#123;</span><br><span class="line">    client.on(<span class="string">'connect'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        client.hgetall(hash, callback)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hmset</span>(<span class="params">hash, params, callback</span>) </span>&#123;</span><br><span class="line">    client.on(<span class="string">'connect'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        client.hmset(hash, ...params, callback)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params">error, reply</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (error == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(reply);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sethash(<span class="string">'map1'</span>, <span class="string">'key1'</span>, <span class="string">'value1'</span>, callback)</span><br><span class="line">sethash(<span class="string">'map1'</span>, <span class="string">'key2'</span>, <span class="string">'value2'</span>, callback)</span><br><span class="line">hmset(<span class="string">'set1'</span>, [<span class="number">0</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">12</span>], callback)</span><br><span class="line">gethash(<span class="string">'map1'</span>, <span class="string">'key1'</span>, callback)</span><br><span class="line">getallhash(<span class="string">'map1'</span>, callback)</span><br><span class="line">getallhash(<span class="string">'set1'</span>, callback)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dunteng.github.io/[object Object]2019/10/05/mongoDB.html">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dunteng Lin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunteng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/[object Object]2019/10/05/mongoDB.html" itemprop="url">mongoDB</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-10-05T00:00:00+08:00">
                2019-10-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Windowså®‰è£…"><a href="#Windowså®‰è£…" class="headerlink" title="Windowså®‰è£…"></a>Windowså®‰è£…</h2><p>ä¸‹è½½åœ°å€ï¼š<a href="https://www.mongodb.com/download-center/community" target="_blank" rel="noopener">https://www.mongodb.com/download-center/community</a></p>
<p>è¿è¡Œmongo.exe</p>
<p>è¾“å…¥<code>show dbs</code>æ˜¾ç¤ºæ•°æ®åº“ã€‚</p>
<p><img src="https://pic2.zhimg.com/80/v2-f16be839b9b3f541f4de299d92ae0b75_hd.jpg" alt=""></p>
<p><br></p>
<h2 id="CentOSå®‰è£…"><a href="#CentOSå®‰è£…" class="headerlink" title="CentOSå®‰è£…"></a>CentOSå®‰è£…</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://fastdl.mongodb.org/linux/mongodb-linux-x86_64-2.4.9.tgz</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œè¯¥å‘½ä»¤ä¸‹è½½å®‰è£…æŠ¥åŒ…ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar zxvf mongodb-linux-x86_64-2.4.9.tgz</span><br></pre></td></tr></table></figure>
<p>è§£å‹ä¹‹åç§»åŠ¨åˆ°/usr/localä¸­</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv ./mongodb-linux-x86_64-2.4.9.tgz /usr/local/mongodb</span><br></pre></td></tr></table></figure>
<p>æ•°æ®åº“å­˜æ”¾åˆ°/homeç›®å½•ä¸‹ï¼Œåœ¨/homeç›®å½•ä¸‹æ–°å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹å¹¶åˆ›å»ºmongodb.log</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir mongodb  /home/mongodb å³ä¸ºæ•°æ®åº“è·¯å¾„</span><br><span class="line">mkdir mongodblog  /home/mongodblog  æ—¥å¿—è·¯å¾„</span><br><span class="line">cd /home/mongodblog</span><br><span class="line">touch mongodb.log</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/mongodb/bin</span><br><span class="line">ll</span><br><span class="line">å¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶mongod</span><br></pre></td></tr></table></figure>
<p>å›åˆ°mongodbçš„æ ¹è·¯å¾„ä¸‹æ‰§è¡ŒğŸ‘‡</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/mongod --dbpath /home/mongodb/ --logpath /home/mongolog/mongodb.log --fork --port 27017</span><br></pre></td></tr></table></figure>
<p><code>--fork</code>ä½¿å¾—mongodbåœ¨åå°æ‰§è¡Œã€‚</p>
<p>æŸ¥çœ‹æ˜¯å¦æˆåŠŸå¯åŠ¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps aux |grep &quot;mongo&quot;</span><br></pre></td></tr></table></figure>
<p><br></p>
<h2 id="mongodbåŸºæœ¬æŒ‡ä»¤"><a href="#mongodbåŸºæœ¬æŒ‡ä»¤" class="headerlink" title="mongodbåŸºæœ¬æŒ‡ä»¤"></a>mongodbåŸºæœ¬æŒ‡ä»¤</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">æŸ¥çœ‹æ•°æ®åº“ï¼š</span><br><span class="line">show dbs</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨æ•°æ®åº“, ï¼ˆuse æ•°æ®åº“åï¼‰å¦‚æœè¿™ç»™æ•°æ®åº“ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºä¹‹ï¼š</span><br><span class="line">use &lt;database&gt;</span><br><span class="line"></span><br><span class="line">æŸ¥çœ‹å½“å‰æ•°æ®åº“åï¼š</span><br><span class="line">db.getName()</span><br><span class="line"></span><br><span class="line">mongodbæ²¡æœ‰mysqlè¡¨çš„æ¦‚å¿µï¼Œä½†æ˜¯æœ‰é›†åˆcollection</span><br><span class="line">æŸ¥çœ‹collectionï¼š</span><br><span class="line">show collections</span><br><span class="line"></span><br><span class="line">åˆ›å»ºcollectionï¼š</span><br><span class="line">db.createCollection(&apos;é›†åˆåç§°&apos;)</span><br><span class="line"></span><br><span class="line">é›†åˆä¸­å¢åŠ æ•°æ®ï¼š</span><br><span class="line">db.collection1.save(&#123;name:&apos;tony&apos;,age:18&#125;);</span><br><span class="line"></span><br><span class="line">æŸ¥è¯¢é›†åˆä¸­æ‰€æœ‰æ•°æ®ï¼š</span><br><span class="line">db.collection1.find()</span><br><span class="line"></span><br><span class="line">æŸ¥è¯¢é›†åˆä¸­æœ‰å‡ æ¡æ•°æ®ï¼š</span><br><span class="line">db.collection1.find().count()</span><br><span class="line"></span><br><span class="line">æ¡ä»¶æŸ¥è¯¢:</span><br><span class="line">db.collection1.find(&#123;age:18&#125;)//ageä¸º18çš„æ•°æ®</span><br><span class="line">db.collection1.find(&#123;age:&#123;$gt:18&#125;&#125;)//ageå¤§äº18</span><br><span class="line">db.collection1.find(&#123;age:&#123;$lt:18&#125;&#125;)//ageå°äº18</span><br><span class="line">db.collection1.find(&#123;age:&#123;$gte:18&#125;&#125;)//ageå¤§äºç­‰äº18</span><br><span class="line">db.collection1.find(&#123;age:&#123;$lte:18&#125;&#125;)//ageå°äºç­‰äº18</span><br><span class="line"></span><br><span class="line">åå­—å»é‡</span><br><span class="line">db.collection1.distinct(&quot;name&quot;)</span><br><span class="line"> </span><br><span class="line">å¤šé‡æ¡ä»¶æŸ¥è¯¢</span><br><span class="line">andï¼š</span><br><span class="line">db.collection1.find(&#123;$and:[&#123;age:18&#125;,&#123;name:&apos;tony&apos;&#125;]&#125;)  //è¦ç‰¹åˆ«æ³¨æ„è¿™ç§å†™æ³•</span><br><span class="line">or:   </span><br><span class="line">db.collection1.find(&#123;$or:[&#123;age:18&#125;,&#123;name:&apos;tony&apos;&#125;]&#125;)</span><br><span class="line"></span><br><span class="line">æŸ¥è¯¢ageå¤§äº12å°äº19ï¼š</span><br><span class="line">db.collection1.find(&#123;age:&#123;$gt:12, $lt:19&#125;&#125;)</span><br><span class="line"></span><br><span class="line">æŸ¥è¯¢å‰ä¸¤æ¡æ•°æ®ï¼š</span><br><span class="line">db.collection1.find().limit(2)</span><br><span class="line"></span><br><span class="line">è·³è¿‡å‰ä¸¤æ¡ç„¶ååªæŸ¥çœ‹ä¸¤æ¡ï¼š</span><br><span class="line">db.collection1.find().skip(2).limit(2)</span><br><span class="line"></span><br><span class="line">åˆ é™¤ageä¸º12çš„æ•°æ®ï¼š</span><br><span class="line">db.collection1.remove(&#123;age:12&#125;)</span><br><span class="line"></span><br><span class="line">ä¿®æ”¹ï¼š</span><br><span class="line">db.collection1.update(&#123;name:&apos;tony&apos;&#125;,&#123;$set:&#123;age:80&#125;&#125;, false ,true)</span><br></pre></td></tr></table></figure>
<p>æ›´å¤šæ“ä½œGoogleä¸€ä¸‹ã€‚</p>
<p><br></p>
<h2 id="nodeæ“ä½œmongodb"><a href="#nodeæ“ä½œmongodb" class="headerlink" title="nodeæ“ä½œmongodb"></a>nodeæ“ä½œmongodb</h2><p>å…ˆå®‰è£…mongodbä¾èµ–</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install mongodb --save</span><br></pre></td></tr></table></figure>
<p>å…ˆä¿è¯å¼€å¯äº†mongodbï¼Œæœ€åŸºæœ¬çš„è¿æ¥ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mongo = <span class="built_in">require</span>(<span class="string">'mongodb'</span>).MongoClient;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> url = <span class="string">"mongodb://127.0.0.1:27017/test"</span>;  <span class="comment">//æœ¬åœ°ipåœ°å€ã€ç«¯å£å·å’Œæ•°æ®åº“åç§°</span></span><br><span class="line"></span><br><span class="line">mongo.connect(url, <span class="function"><span class="keyword">function</span> (<span class="params">error, db</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (error == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(db);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(error);</span><br><span class="line">    &#125;</span><br><span class="line">    db.close();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>è¿›è¡Œã€å¢åˆ æ”¹æŸ¥ã€‘ä»£ç æ“ä½œğŸ‘‡</p>
<p>æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dunteng.github.io/[object Object]2019/10/05/èŠå¤©æœºå™¨äºº.html">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dunteng Lin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunteng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/[object Object]2019/10/05/èŠå¤©æœºå™¨äºº.html" itemprop="url">èŠå¤©æœºå™¨äºº</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-10-05T00:00:00+08:00">
                2019-10-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>è¿™ä¸ªDemoç”¨node.jså®ç°ä»£ç†æœåŠ¡å™¨ï¼Œæ ¸å¿ƒçš„apiæ˜¯<a href="http://www.turingapi.com/" target="_blank" rel="noopener">å›¾çµæœºå™¨äºº</a>ï¼Œæµè§ˆå™¨ä½¿ç”¨è¿™ä¸ªapiå­˜åœ¨è·¨åŸŸé—®é¢˜ï¼Œæ‰€ä»¥ç”¨<strong>node.jsä»£ç†æœåŠ¡å™¨è§£å†³è·¨åŸŸé—®é¢˜</strong>ã€‚</p>
<p><br></p>
<h2 id="å…³äºåç«¯è§£å†³è·¨åŸŸ"><a href="#å…³äºåç«¯è§£å†³è·¨åŸŸ" class="headerlink" title="å…³äºåç«¯è§£å†³è·¨åŸŸ"></a>å…³äºåç«¯è§£å†³è·¨åŸŸ</h2><p><img src="https://pic3.zhimg.com/v2-1c347617d163242e7def6c157e82fc76_r.jpg" alt=""></p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p><a href="https://github.com/Dunteng/node.js/tree/v1/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%81%8A%E5%A4%A9%E6%9C%BA%E5%99%A8%E4%BA%BA" target="_blank" rel="noopener">https://github.com/Dunteng/node.js/tree/v1/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%81%8A%E5%A4%A9%E6%9C%BA%E5%99%A8%E4%BA%BA</a></p>
<h2 id="æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚"><a href="#æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚" class="headerlink" title="æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚"></a>æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="Dunteng Lin">
            
              <p class="site-author-name" itemprop="name">Dunteng Lin</p>
              <p class="site-description motion-element" itemprop="description">éƒ½ä¼šå¥½çš„  æ€»ä¼šæœ‰çš„</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">61</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Dunteng Lin</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
