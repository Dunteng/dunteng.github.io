<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/dahuangmao-06.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/icon1.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/icon1.png?v=5.1.4">


  <link rel="mask-icon" href="/images/dahuangmao-06.png?v=5.1.4" color="#222">





  <meta name="keywords" content="JavaScript,">










<meta name="description" content="å¯¹è±¡åˆ›å»ºæ–¹æ³• å¯¹è±¡å­—é¢é‡ 1var obj = &amp;#123; &amp;#125;;  ç³»ç»Ÿè‡ªå¸¦çš„æ„é€ å‡½æ•°Object() 1var obj = new Object();  è‡ªå®šä¹‰æ„é€ å‡½æ•° 123456789101112// ä¸æ™®é€šå‡½æ•°åŒºåˆ«ï¼š1ã€å‡½æ•°åå¤§é©¼å³°å‘½åï¼›2ã€å®šä¹‰å±æ€§å’Œæ–¹æ³•ä¸ºçº¯è¯­å¥function Teacher(name, sex) &amp;#123; // ä¼ å…¥å‚æ•°-å•ä¸ªå±æ€§    // å½“æ²¡">
<meta name="keywords" content="JavaScript">
<meta property="og:type" content="article">
<meta property="og:title" content="å¤ä¹ å¯¹è±¡">
<meta property="og:url" content="https://dunteng.github.io/2019/10/28/å¯¹è±¡.html">
<meta property="og:site_name" content="Dunteng&#39;s Blog">
<meta property="og:description" content="å¯¹è±¡åˆ›å»ºæ–¹æ³• å¯¹è±¡å­—é¢é‡ 1var obj = &amp;#123; &amp;#125;;  ç³»ç»Ÿè‡ªå¸¦çš„æ„é€ å‡½æ•°Object() 1var obj = new Object();  è‡ªå®šä¹‰æ„é€ å‡½æ•° 123456789101112// ä¸æ™®é€šå‡½æ•°åŒºåˆ«ï¼š1ã€å‡½æ•°åå¤§é©¼å³°å‘½åï¼›2ã€å®šä¹‰å±æ€§å’Œæ–¹æ³•ä¸ºçº¯è¯­å¥function Teacher(name, sex) &amp;#123; // ä¼ å…¥å‚æ•°-å•ä¸ªå±æ€§    // å½“æ²¡">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570849572989.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570850068707.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570850243772.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570850309748.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570862901392.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570863065304.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570863239261.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570865370449.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570866805009.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570867335732.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570887149405.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570897037168.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570897168419.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570897447379.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570903506616.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570903422900.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570931723015.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570935515334.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570936074035.png">
<meta property="og:updated_time" content="2020-03-01T17:17:54.684Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="å¤ä¹ å¯¹è±¡">
<meta name="twitter:description" content="å¯¹è±¡åˆ›å»ºæ–¹æ³• å¯¹è±¡å­—é¢é‡ 1var obj = &amp;#123; &amp;#125;;  ç³»ç»Ÿè‡ªå¸¦çš„æ„é€ å‡½æ•°Object() 1var obj = new Object();  è‡ªå®šä¹‰æ„é€ å‡½æ•° 123456789101112// ä¸æ™®é€šå‡½æ•°åŒºåˆ«ï¼š1ã€å‡½æ•°åå¤§é©¼å³°å‘½åï¼›2ã€å®šä¹‰å±æ€§å’Œæ–¹æ³•ä¸ºçº¯è¯­å¥function Teacher(name, sex) &amp;#123; // ä¼ å…¥å‚æ•°-å•ä¸ªå±æ€§    // å½“æ²¡">
<meta name="twitter:image" content="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570849572989.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: 'GX48388M0Z',
      apiKey: '24910416df90ea04217402b818109cef',
      indexName: 'index',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://dunteng.github.io/2019/10/28/å¯¹è±¡.html">





  <title>å¤ä¹ å¯¹è±¡ | Dunteng's Blog</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?6ffc4435fb9941ca00fb4c7e08d8fca2";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Dunteng's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            å…³äº
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            æœç´¢
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="æœç´¢..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dunteng.github.io/2019/10/28/å¯¹è±¡.html">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dunteng Lin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dunteng's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">å¤ä¹ å¯¹è±¡</h1>
        

        <div class="post-meta">
		
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-10-28T00:00:00+08:00">
                2019-10-28
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/10/28/å¯¹è±¡.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/10/28/å¯¹è±¡.html" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <meta name="referrer" content="no-referrer">

<h2 id="å¯¹è±¡åˆ›å»ºæ–¹æ³•"><a href="#å¯¹è±¡åˆ›å»ºæ–¹æ³•" class="headerlink" title="å¯¹è±¡åˆ›å»ºæ–¹æ³•"></a>å¯¹è±¡åˆ›å»ºæ–¹æ³•</h2><ul>
<li><p>å¯¹è±¡å­—é¢é‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123; &#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç³»ç»Ÿè‡ªå¸¦çš„æ„é€ å‡½æ•°Object()</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br></pre></td></tr></table></figure>
</li>
<li><p>è‡ªå®šä¹‰æ„é€ å‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸æ™®é€šå‡½æ•°åŒºåˆ«ï¼š1ã€å‡½æ•°åå¤§é©¼å³°å‘½åï¼›2ã€å®šä¹‰å±æ€§å’Œæ–¹æ³•ä¸ºçº¯è¯­å¥</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Teacher</span>(<span class="params">name, sex</span>) </span>&#123; <span class="comment">// ä¼ å…¥å‚æ•°-å•ä¸ªå±æ€§</span></span><br><span class="line">    <span class="comment">// å½“æ²¡æœ‰ç»è¿‡å…³é”®å­—newæ„é€ å‡½æ•°ï¼Œå°±è¿˜æ²¡æœ‰å®ä¾‹åŒ–ï¼Œæ­¤æ—¶thisä¸å­˜åœ¨</span></span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.sex = sex;</span><br><span class="line">    <span class="keyword">this</span>.age = <span class="number">25</span>; <span class="comment">// é»˜è®¤å±æ€§</span></span><br><span class="line">    <span class="keyword">this</span>.smoke = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'I am smoking'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> teacher = <span class="keyword">new</span> Teacher(<span class="string">'dunteng'</span>,<span class="string">'male'</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>Object.create()åˆ›å»ºå¯¹è±¡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">"xiaoming"</span>,</span><br><span class="line">  age: <span class="number">18</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// å°†objä½œä¸ºobj1çš„åŸå‹</span></span><br><span class="line"><span class="keyword">var</span> obj1 = <span class="built_in">Object</span>.create(obj)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><br><br></p>
<h2 id="æ„é€ å‡½æ•°çš„å†…éƒ¨åŸç†"><a href="#æ„é€ å‡½æ•°çš„å†…éƒ¨åŸç†" class="headerlink" title="æ„é€ å‡½æ•°çš„å†…éƒ¨åŸç†"></a>æ„é€ å‡½æ•°çš„å†…éƒ¨åŸç†</h2><ol>
<li>åœ¨å‡½æ•°ä½“æœ€å‰é¢éšå¼åœ°åŠ ä¸Š<code>this={}</code></li>
<li>æ‰§è¡Œ<code>this.xxx = xxx;</code></li>
<li>éšå¼åœ°è¿”å›<code>this</code></li>
</ol>
<p>æ„é€ å‡½æ•°èƒ½æ„é€ å‡ºå¯¹è±¡çš„å‰ææ˜¯è¦newå®ƒï¼ä»è€Œè§¦å‘æ„é€ å‡½æ•°çš„å†…éƒ¨åŸç†ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,height</span>)</span>&#123;</span><br><span class="line">  <span class="comment">// var this =&#123;&#125;</span></span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.height = height;</span><br><span class="line">  <span class="keyword">this</span>.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.say);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// return this</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">'xiaolin'</span>,<span class="number">180</span>);</span><br></pre></td></tr></table></figure>
<p>âš æ¥ç‚¹æ£ä¹±çš„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, height</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.height = height;</span><br><span class="line">  <span class="keyword">this</span>.say = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.say);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123;&#125;;<span class="comment">//è¿”å›ä¸€ä¸ªç©ºå¯¹è±¡</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">'xiaolin'</span>, <span class="number">180</span>);</span><br></pre></td></tr></table></figure>
<p>ç»“æœpersonçš„å€¼å°±å˜æˆäº†returnå‡ºæ¥çš„ç©ºå¯¹è±¡ã€‚</p>
<p>åœ¨æ„é€ å‡½æ•°å†…éƒ¨å…è®¸æ˜¾ç¤ºåœ°returnå‡ºä¸€ä¸ªå¯¹è±¡ï¼ˆç©ºå¯¹è±¡ä¹Ÿå¥½å…¶ä»–å¯¹è±¡ä¹Ÿå¥½ï¼‰ï¼Œåˆ™newå‡ºæ¥çš„å®ä¾‹ç»“æœå°±æ˜¯å¯¹åº”çš„å¯¹è±¡ã€‚âš ä½†æ˜¯å¦‚æœæ˜¯æ˜¾ç¤ºreturnå‡ºæ•°å­—ã€å­—ç¬¦ä¸²ã€undefinedæˆ–è€…nullï¼Œå³returnçš„æ˜¯äº”å¤§åŸå§‹å€¼ï¼Œåˆ™newå‡ºå®ä¾‹çš„æ—¶å€™ä»ç„¶æ˜¯returnè¯­å¥å‰é¢æ„é€ å‡ºæ¥çš„thiså¯¹è±¡ï¼</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570849572989.png" alt="1570849572989"></p>
<p><br><br></p>
<h2 id="åŒ…è£…ç±»"><a href="#åŒ…è£…ç±»" class="headerlink" title="åŒ…è£…ç±»"></a>åŒ…è£…ç±»</h2><p><strong>åŸå§‹å€¼æ˜¯ä¸èƒ½æœ‰å±æ€§å’Œæ–¹æ³•çš„</strong>ã€‚</p>
<p>çœ‹ä¸‹é¢ğŸ‘‡</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570850068707.png" alt="1570850068707"></p>
<p>è¿™é‡Œçš„numä¾ç„¶æ˜¯æ•°å­—ï¼Œä½†æ˜¯å®ƒæ˜¯ç”¨<strong>åŒ…è£…ç±»</strong>Number newå‡ºæ¥çš„æ•°å­—å¯¹è±¡ï¼Œé‚£ä¹ˆ<strong>å®ƒå°±å¯ä»¥åŠ å±æ€§å’Œæ–¹æ³•</strong>ã€‚åŒæ—¶å®ƒä¾æ—§å¯ä»¥è¿ç®—ï¼Œä½†æ˜¯è¿ç®—ç»“æœæ˜¯åŸå§‹å€¼çš„æ•°å­—ã€‚</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570850243772.png" alt="1570850243772"></p>
<p>åŒæ ·çš„ä¹Ÿæœ‰:</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570850309748.png" alt="1570850309748"></p>
<p>å‰é¢è¯´äº†åŸå§‹å€¼ä¸èƒ½æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œé‚£ä¹ˆçœ‹ä¸‹é¢çš„æ —å­ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">4</span>;</span><br><span class="line">num.len = <span class="number">3</span>;</span><br><span class="line"><span class="built_in">console</span>.log(num.len);</span><br></pre></td></tr></table></figure>
<p>æ‰“å°ç»“æœä¸ºundefinedï¼Œä¹Ÿä¸æŠ¥é”™ã€‚åŸå› æ˜¯å­˜åœ¨åŒ…è£…ç±»çš„éšå¼è°ƒç”¨ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">4</span>;</span><br><span class="line">num.len = <span class="number">3</span>;</span><br><span class="line"><span class="comment">// åŸå§‹å€¼æ˜¯ä¸èƒ½æœ‰å±æ€§å’Œæ–¹æ³•çš„ï¼Œä½†æ˜¯åœ¨è¿™é‡Œç³»ç»Ÿä¼šè‡ªåŠ¨æ‰§è¡Œï¼šnew Number(num).len = 3ä»¥é¿å…æŠ¥é”™</span></span><br><span class="line"><span class="comment">// ä½†éšå³åˆdeleteè‡ªå·±ã€‚å³åˆšnewå®ŒNumberéšæœºå°±æŠŠè‡ªå·±åˆ äº†</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç„¶ååœ¨console.log(num.len)çš„æ—¶å€™ï¼Œè®²é“ç†num.lenå·²ç»ä¸å­˜åœ¨äº†ä¼šæŠ¥é”™çš„</span></span><br><span class="line"><span class="comment">// ä½†æ˜¯ç³»ç»Ÿä¸ºäº†é¿å…æŠ¥é”™åˆéšå¼åœ°æ‰§è¡Œäº†new Number(num).lenï¼Œæ‰€ä»¥ç»“æœä¸ºè¾“å‡ºundefined</span></span><br><span class="line"><span class="built_in">console</span>.log(num.len);</span><br></pre></td></tr></table></figure>
<p><br></p>
<hr>

<p>å¯¹äºæ•°ç»„ï¼Œæœ‰ä»¥ä¸‹çš„å¯è¡Œæ“ä½œï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">arr.length = <span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//[1,2]</span></span><br></pre></td></tr></table></figure>
<p>æ•°ç»„æ˜¯å¯ä»¥é€šè¿‡lengthæ¥æˆªæ–­çš„ï¼Œä½†å­—ç¬¦ä¸²ä¸è¡Œï¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"1234"</span>;</span><br><span class="line">str.length = <span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str);<span class="comment">//"1234"</span></span><br></pre></td></tr></table></figure>
<p>åˆ†æï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"1234"</span>;</span><br><span class="line">str.length = <span class="number">2</span>;</span><br><span class="line"><span class="comment">// æ‰§è¡Œåˆ°str.length = 2çš„æ—¶å€™ç³»ç»Ÿéšå¼åœ°æ‰§è¡Œäº†new Number(str).length=2,</span></span><br><span class="line"><span class="comment">// ä»¥é¿å…æŠ¥é”™ï¼Œä½†éšæœºå°±é”€æ¯äº†</span></span><br><span class="line"><span class="built_in">console</span>.log(str);<span class="comment">//"1234"</span></span><br><span class="line"><span class="comment">// æ‰§è¡Œconsole.log(str.length)çš„æ—¶å€™ç³»ç»Ÿéšå¼åœ°æ‰§è¡Œäº†new Number(str).lengthï¼Œ</span></span><br><span class="line"><span class="comment">// è€Œlengthæ˜¯Stringç±»å‹å†…ç½®çš„å±æ€§ï¼Œå¯ä»¥è®¿é—®</span></span><br><span class="line"><span class="built_in">console</span>.log(str.length);<span class="comment">//4</span></span><br></pre></td></tr></table></figure>
<p><br></p>
<hr>

<p><strong>æ¥ç»ƒç»ƒ</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"abc"</span>;</span><br><span class="line">str += <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> test = <span class="keyword">typeof</span> (str);</span><br><span class="line"><span class="keyword">if</span> (test.length == <span class="number">6</span>) &#123;</span><br><span class="line">  test.sign = <span class="string">"hello world"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(test.sign);</span><br></pre></td></tr></table></figure>
<p>åˆ†æå¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"abc"</span>;</span><br><span class="line">str += <span class="number">1</span>;  <span class="comment">//strå˜æˆäº†"abc1"</span></span><br><span class="line"><span class="keyword">var</span> test = <span class="keyword">typeof</span> (str);  <span class="comment">//testä¸º"string"</span></span><br><span class="line"><span class="keyword">if</span> (test.length == <span class="number">6</span>) &#123;</span><br><span class="line">  test.sign = <span class="string">"hello world"</span>;<span class="comment">//testæ˜¯å­—ç¬¦ä¸²ï¼ŒåŸå§‹å€¼ä¸èƒ½æœ‰å±æ€§ï¼Œéšå¼åœ°æ‰§è¡Œ</span></span><br><span class="line">  <span class="comment">//new Number(test).sign="hello world"ï¼Œéšå³é”€æ¯</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//éšå¼åœ°æ‰§è¡ŒåŒ…è£…ç±»è½¬æ¢ï¼šnew Number(test).signï¼Œéšå³é”€æ¯</span></span><br><span class="line"><span class="built_in">console</span>.log(test.sign);<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>
<p><br></p>
<p>åŒé—­åŒ…çŸ¥è¯†ç‚¹ç»“åˆçš„ä¸€é¢˜ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, sex</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">  <span class="keyword">this</span>.sex = sex;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">sss</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    a++;</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">this</span>.say = sss;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</span><br><span class="line">person1.say();</span><br><span class="line">person1.say();</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person();</span><br><span class="line">person2.say();</span><br></pre></td></tr></table></figure>
<p><br><br></p>
<h2 id="åŸå‹prototype"><a href="#åŸå‹prototype" class="headerlink" title="åŸå‹prototype"></a>åŸå‹prototype</h2><ul>
<li><p>å®šä¹‰ï¼š åŸå‹æ˜¯functionå¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼Œå®ƒå®šä¹‰äº†æ„é€ å‡½æ•°åˆ¶é€ å‡ºçš„å¯¹è±¡çš„å…¬å…±ç¥–å…ˆã€‚é€šè¿‡è¯¥æ„é€ å‡½æ•°äº§ç”Ÿçš„å¯¹è±¡ï¼Œå¯ä»¥ç»§æ‰¿åŸå‹çš„å±æ€§å’Œæ–¹æ³•ã€‚åŸå‹ä¹Ÿæ˜¯å¯¹è±¡ã€‚</p>
</li>
<li><p>åˆ©ç”¨åŸå‹ç‰¹ç‚¹å’Œæ¦‚å¿µï¼Œå¯ä»¥æå–å…±æœ‰å±æ€§</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Car.prototype.height = <span class="number">1400</span>;</span><br><span class="line">Car.prototype.lang = <span class="number">4900</span>;</span><br><span class="line">Car.prototype.carName = <span class="string">"BMW"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">color, owner</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.owner = owner;</span><br><span class="line">  <span class="keyword">this</span>.color = color;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">var</span> car = <span class="keyword">new</span> Car(<span class="string">'red'</span>, <span class="string">'dunteng'</span>)</span><br><span class="line"><span class="keyword">var</span> car = <span class="keyword">new</span> Car(<span class="string">'pink'</span>, <span class="string">'xiaolin'</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯¹è±¡å¦‚ä½•æŸ¥çœ‹åŸå‹   é€šè¿‡éšå¼å±æ€§<code>__proto__</code></p>
<p>â€‹    è®¿é—®å¯¹è±¡å®ä¾‹çš„å±æ€§çš„æ—¶å€™ï¼Œå…ˆæŸ¥çœ‹å®ä¾‹å¯¹è±¡è‡ªå·±æœ‰æ²¡æœ‰ï¼Œæ²¡æœ‰çš„è¯å°±é€šè¿‡å®ƒçš„éšå¼å±æ€§<code>__proto__</code>æŸ¥çœ‹åŸå‹é‡Œæœ‰æ²¡æœ‰è¿™ä¸ªå±æ€§ã€‚</p>
<p>ğŸ’¡  <code>å¯¹è±¡å®ä¾‹.__proto__</code>å…¨ç­‰äº<code>å¯¹è±¡æ„é€ å‡½æ•°.prototype</code></p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570862901392.png" alt="1570862901392"></p>
</li>
</ul>
<p>  <img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570863065304.png" alt="1570863065304"></p>
<ul>
<li><p>å¯¹è±¡å¦‚ä½•æŸ¥çœ‹å¯¹è±¡çš„æ„é€ å‡½æ•°   é€šè¿‡<code>constructor</code></p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570863239261.png" alt="1570863239261"></p>
<p>constructorå­˜åœ¨äºåŸå‹ä¸­ã€‚</p>
</li>
</ul>
<p><br><hr></p>
<p>çœ‹å…¸ä¾‹ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Person.prototype.name = <span class="string">"sunny"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="built_in">console</span>.log(person.name);  <span class="comment">//"sunny"</span></span><br><span class="line"></span><br><span class="line">Person.prototype.name = <span class="string">"jenny"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person.name);  <span class="comment">//"jenny"</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢è¿™ä¸ªå¾ˆå®¹æ˜“ç†è§£ï¼Œä½†ä¸‹é¢æ”¹ä¸€ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Person.prototype.name = <span class="string">"sunny"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="comment">// åœ¨newçš„æ—¶å€™å­˜åœ¨ä¸€ä¸ªéšå¼è¿‡ç¨‹ğŸ‘‡</span></span><br><span class="line"><span class="comment">// function Person() &#123;</span></span><br><span class="line"><span class="comment">// var this = &#123;</span></span><br><span class="line"><span class="comment">//   __proto__: Person.prototype   ç”¨__proto__è®°å½•äº†Person.prototypeçš„åœ°å€</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(person.name);  <span class="comment">//"sunny"</span></span><br><span class="line"></span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">  name: <span class="string">'jenny'</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// å°†Person.prototypeé‡æ–°æŒ‡å‘äº†ä¸€ä¸ªæ–°çš„ç©ºé—´ï¼Œè€Œpersonä½œä¸ºnewå‡ºæ¥çš„å®ä¾‹æ˜¯é€šè¿‡__proto__æŸ¥æ‰¾</span></span><br><span class="line"><span class="comment">// åŸå‹çš„ï¼Œ__proto__ä¸­è®°å½•çš„ä¸œè¥¿å¹¶æ²¡æœ‰æ”¹å˜ï¼Œä»æŒ‡å‘åŸæ¥çš„Person.prototypedç©ºé—´</span></span><br><span class="line"><span class="built_in">console</span>.log(person.name);  <span class="comment">//"sunny"</span></span><br></pre></td></tr></table></figure>
<p><br><br></p>
<h2 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="headerlink" title="åŸå‹é“¾"></a>åŸå‹é“¾</h2><p>åŸå‹ä¹Ÿæœ‰è‡ªå·±çš„åŸå‹ï¼Œå°±å½¢æˆäº†åŸå‹é“¾ã€‚åŸå‹é“¾çš„ç»ˆç«¯æ˜¯Object.prototypeã€‚å¯ä»¥è¯´<strong>ç»å¤§å¤šæ•°</strong>å¯¹è±¡çš„æœ€ç»ˆéƒ½ä¼šç»§æ‰¿è‡ªObject.prototypeã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">GrandFather.prototype.lastName = <span class="string">"wang"</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GrandFather</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">"ç¥–çˆ¶"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> grandfather = <span class="keyword">new</span> GrandFather();</span><br><span class="line"></span><br><span class="line">Father.prototype = grandfather;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">"çˆ¶äº²"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> father = <span class="keyword">new</span> Father();</span><br><span class="line"></span><br><span class="line">Son.prototype = father;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">"å„¿å­"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> son = <span class="keyword">new</span> Son();</span><br><span class="line"><span class="built_in">console</span>.log(son.lastName);<span class="comment">//"wang"</span></span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570865370449.png" alt="1570865370449"></p>
<hr>

<p>å‰é¢æœ‰æåˆ°ã€ç»å¤§å¤šæ•°çš„å¯¹è±¡æœ€ç»ˆéƒ½ç»§æ‰¿è‡ªObject.prototypeã€‘ï¼Œé‚£ä¹ˆä»€ä¹ˆå¯¹è±¡ä¾‹å¤–å‘¢ï¼Ÿ</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570866805009.png" alt="1570866805009"></p>
<hr>

<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570867335732.png" alt="1570867335732"></p>
<p>åŸå§‹å€¼çš„123æ˜¯æ²¡æœ‰æ–¹æ³•çš„ï¼Œæ‰€ä»¥è¦ç”¨åŒ…è£…ç±»åŒ…è£…æˆNumberç±»å‹ï¼Œå†è°ƒç”¨toStringæ–¹æ³•ï¼Œæ³¨æ„è¿™é‡Œçš„toStringæ–¹æ³•æ˜¯Number()è‡ªå·±é‡å†™çš„ï¼Œä¸æ˜¯Object()çš„toStringï¼ŒObject()çš„toString()æ‰“å°å‡ºæ¥çš„æ˜¯<code>[Object, Object]</code></p>
<p><br><br></p>
<h2 id="call-apply"><a href="#call-apply" class="headerlink" title="call/apply"></a>call/apply</h2><p>ä½œç”¨ï¼š éƒ½èƒ½æ”¹å˜<code>this</code>æŒ‡å‘</p>
<p>åŒºåˆ«ï¼š åé¢ä¼ é€’çš„å‚æ•°å½¢å¼ä¸åŒ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person(<span class="string">'lin'</span>, <span class="number">18</span>);</span><br><span class="line"><span class="comment">// è¿™é‡Œç›´æ¥è°ƒç”¨Personå‡½æ•°å°±æ²¡æŠŠå®ƒå½“ä½œæ„é€ å‡½æ•°newäº†ï¼Œé‡Œé¢çš„thiså°±æŒ‡å‘å…¨å±€window</span></span><br><span class="line"><span class="built_in">console</span>.log(name);</span><br><span class="line"><span class="built_in">console</span>.log(age);</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œè¯´ä¸€ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test()å®é™…ä¸Šæ˜¯test.call()</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>call</code>æ”¹å˜thisæŒ‡å‘ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">Person.call(obj, <span class="string">'lin'</span>, <span class="number">18</span>);</span><br><span class="line"><span class="built_in">console</span>.log(obj);<span class="comment">//objé‡Œé¢ageä¸º18ï¼Œnameä¸ºlin</span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œä½¿ç”¨callå°†thisçš„æŒ‡å‘æ”¹å˜æˆäº†objï¼Œæˆ–è€…è¯´è¿™é‡Œå°±æŠŠå¯¹è±¡<code>obj</code>æ‹¿æ¥å–ä»£äº†thisï¼Œæˆ–è€…è¯´thiså°±æˆäº†objã€‚</p>
<p>æ¥ä¸ªåº”ç”¨æ —å­ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">  <span class="keyword">this</span>.sex = sex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name, age, sex, tel, grade</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">  <span class="keyword">this</span>.sex = sex;</span><br><span class="line">  <span class="keyword">this</span>.tel = tel;</span><br><span class="line">  <span class="keyword">this</span>.grade = grade;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> student = <span class="keyword">new</span> Student(<span class="string">'lin'</span>, <span class="number">18</span>, <span class="string">'male'</span>, <span class="number">137</span>, <span class="number">6</span>)</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·<strong>ä»£ç å¤ªå†—ä½™</strong>äº†ï¼Œç”¨callæ–¹æ³•æ”¹è¿›ä¸€ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">  <span class="keyword">this</span>.sex = sex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name, age, sex, tel, grade</span>) </span>&#123;</span><br><span class="line">  Person.call(<span class="keyword">this</span>, name, age, sex)</span><br><span class="line">    <span class="comment">//ä¸Šé¢ç»“æŸåå®é™…ä¸Š å°±æœ‰ä¸€ä¸ª this = &#123;name:'lin',age:'18',sex:'male' &#125; </span></span><br><span class="line">  <span class="keyword">this</span>.tel = tel;</span><br><span class="line">  <span class="keyword">this</span>.grade = grade;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> student = <span class="keyword">new</span> Student(<span class="string">'lin'</span>, <span class="number">18</span>, <span class="string">'male'</span>, <span class="number">137</span>, <span class="number">6</span>)</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>calléœ€è¦æŠŠå®å‚æŒ‰ç…§å½¢å‚çš„ä¸ªæ•°ä¸€ä¸ªä¸ªä¼ è¿›å»ï¼Œ</p>
<p>applyéœ€è¦ä¼ å…¥ä¸€ä¸ªå®å‚æ•°ç»„</p>
<p>å†æ¥ä¸ªæ —å­ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Wheel</span>(<span class="params">WheelSize, style</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.WheelSize = WheelSize;</span><br><span class="line">  <span class="keyword">this</span>.style = style;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Sit</span>(<span class="params">c, sitColor</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.c = c;</span><br><span class="line">  <span class="keyword">this</span>.sitColor = sitColor</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Model</span>(<span class="params">height, width, len</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.height = height;</span><br><span class="line">  <span class="keyword">this</span>.width = width;</span><br><span class="line">  <span class="keyword">this</span>.len = len;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">WheelSize, style, c, sitColor, height, width, len</span>) </span>&#123;</span><br><span class="line">  Wheel.apply(<span class="keyword">this</span>, [WheelSize, style]);</span><br><span class="line">  Sit.apply(<span class="keyword">this</span>, [c, sitColor]);</span><br><span class="line">  Model.apply(<span class="keyword">this</span>, [height, width, len])</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> myCar = <span class="keyword">new</span> Car(<span class="number">100</span>, <span class="string">'èŠ±é‡Œèƒ¡å“¨'</span>, <span class="string">'çœŸçš®'</span>, <span class="string">'red'</span>, <span class="number">1800</span>, <span class="number">1900</span>, <span class="number">4900</span>)</span><br><span class="line"><span class="built_in">console</span>.log(myCar);</span><br></pre></td></tr></table></figure>
<p><br><br></p>
<h2 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h2><p>ç»§æ‰¿å‘å±•å²ï¼š</p>
<ol>
<li><p>åŸå‹é“¾</p>
<p>ç¼ºç‚¹ï¼šè¿‡å¤šçš„ç»§æ‰¿äº†æ²¡ç”¨çš„å±æ€§<br></p>
</li>
<li><p>å€Ÿç”¨æ„é€ å‡½æ•°+call/apply</p>
<p>æˆ‘ä¸Šé¢è®²call/applyçš„ä¸¤ä¸ªæ —å­å°±æ˜¯</p>
<p>ç¼ºç‚¹ï¼šæ— æ³•ç»§æ‰¿å€Ÿç”¨æ¥çš„æ„é€ å‡½æ•°çš„åŸå‹ï¼Œè€Œä¸”ä¸æ–¹ä¾¿ã€‚<br></p>
</li>
<li><p>å…±æœ‰åŸå‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Father.prototype.lastName = <span class="string">"xi"</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inherit</span>(<span class="params">Target, Origin</span>) </span>&#123;</span><br><span class="line">  Target.prototype = Origin.prototype;</span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line">inherit(Son, Father);<span class="comment">//ä¸€å®šè¦å…ˆç»§æ‰¿å†å®šä¹‰å“¦</span></span><br><span class="line"><span class="keyword">var</span> son = <span class="keyword">new</span> Son();</span><br></pre></td></tr></table></figure>
<p>è¿™ç§åšæ³•æœ‰<strong>ç¼ºç‚¹</strong>ï¼Œå¦‚æœæƒ³è¦ç»™Sonå¯¹è±¡çš„åŸå‹æ·»åŠ äº›å±æ€§ï¼Œé‚£ä¹ˆå¾ˆä¸å¥½çš„äº‹ï¼ŒFatherå¯¹è±¡å¹¶ä¸éœ€è¦è¿™äº›å±æ€§ï¼Œå› ä¸ºè¦çŸ¥é“ï¼Œå®ƒä¿©çš„åŸå‹æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªã€‚<br></p>
</li>
<li><p>åœ£æ¯æ¨¡å¼ </p>
<p>å€Ÿç”¨ä¸€ä¸ªä¸­é—´å±‚ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inherit</span>(<span class="params">Target, Origin</span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line">  F.prototype = Origin.prototype;<span class="comment">//è¿™è¡Œå’Œä¸‹ä¸€è¡Œé¡ºåºä¸€å®šä¸èƒ½è°ƒæ¢ï¼Œå¦åˆ™å°±é”™äº†</span></span><br><span class="line">  Target.prototype = <span class="keyword">new</span> F();  <span class="comment">//Fä½œä¸ºä¸­é—´å±‚ï¼Œè¿™æ ·å°±ç®—Targetä¼šä¿®æ”¹åŸå‹ï¼Œä¹Ÿåªæ˜¯ä¿®æ”¹äº†Fï¼Œå½±å“ä¸åˆ°Origin</span></span><br><span class="line">  Target.prototype.constructor = Target;  <span class="comment">//æ‰‹åŠ¨æ·»åŠ æ„é€ å™¨constructor</span></span><br><span class="line">  Target.prototype.uber = Origin.prototype; <span class="comment">//è®°å½•çœŸå®çš„åŸå‹</span></span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line">Father.prototype = &#123;</span><br><span class="line">  lastName: <span class="string">'Lin'</span></span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line">inherit(Son, Father);</span><br><span class="line"><span class="keyword">var</span> son = <span class="keyword">new</span> Son();</span><br><span class="line"><span class="keyword">var</span> father = <span class="keyword">new</span> Father();</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570887149405.png" alt="1570887149405"></p>
<p>ä¸Šé¢è¿™ä¸ªç»§æ‰¿è¿˜å¯ä»¥å†ä¼˜åŒ–ä¸€ä¸‹ï¼Œä½¿ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°å’Œé—­åŒ…æ¥ä¼˜åŒ–ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">var</span> inherit = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="keyword">var</span> F = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; &#125;;</span><br><span class="line">     <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">Target, Origin</span>) </span>&#123;</span><br><span class="line">       F.prototype = Origin.prototype;</span><br><span class="line">       Target.prototype = <span class="keyword">new</span> F();</span><br><span class="line">       Target.prototype.constructor = Target;</span><br><span class="line">       Target.prototype.uber = Origin.prototype;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;())<span class="comment">//æ•´ä¸ªæ˜¯ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œå³ç”¨å³é”€æ¯ï¼Œä¼˜åŒ–æ€§èƒ½</span></span><br><span class="line"><span class="comment">//inherité‡Œé¢çš„Fé€šè¿‡é—­åŒ…ä¿å­˜æˆäº†inheritçš„ç§æœ‰åŒ–å±æ€§ï¼Œæ›´åŠ ä¼˜åŒ–</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line">   Father.prototype = &#123;</span><br><span class="line">     lastName: <span class="string">'lin'</span></span><br><span class="line">   &#125;</span><br><span class="line">   inherit(Son, Father)</span><br><span class="line">   <span class="keyword">var</span> father = <span class="keyword">new</span> Father();</span><br><span class="line">   <span class="keyword">var</span> son = <span class="keyword">new</span> Son();</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><br><br></p>
<h2 id="å‘½åç©ºé—´"><a href="#å‘½åç©ºé—´" class="headerlink" title="å‘½åç©ºé—´"></a>å‘½åç©ºé—´</h2><p>ç®¡ç†å˜é‡ï¼Œé˜²æ­¢æ±¡æŸ“å…¨å±€ï¼Œé€‚ç”¨äºæ¨¡å—åŒ–å¼€å‘ã€‚</p>
<p>ä¼ ç»Ÿçš„æ–¹æ³•æ˜¯ç”¨å¯¹è±¡åŒ…èµ·æ¥å½¢æˆä¸“æœ‰çš„å‘½åç©ºé—´ï¼Œç”¨çš„æ—¶å€™å°±é€šè¿‡xxx.xxxx.xxxè¿™æ ·çš„æ–¹å¼è®¿é—®ã€‚</p>
<p>è§£å†³æ–¹å¼ï¼šä½¿ç”¨<strong>ç«‹å³æ‰§è¡Œå‡½æ•°å’Œé—­åŒ…</strong></p>
<p>æ —å­ğŸ‘‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">var</span> init = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="keyword">var</span> name = <span class="string">'abc'</span>;</span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">callName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(name);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">       callName();</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="keyword">var</span> _init = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="keyword">var</span> name = <span class="string">'def'</span>;</span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">callName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(name);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">       callName();</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;)()</span><br><span class="line">   </span><br><span class="line">   init();</span><br><span class="line">_init();</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢è¿™ä¸¤ä¸ªå‡½æ•°å˜é‡å‘½åäº’ä¸å½±å“ï¼Œå› ä¸ºéƒ½å­˜åœ¨äºç«‹å³æ‰§è¡Œå‡½æ•°é‡Œé¢ï¼Œè€Œå˜é‡è¢«é—­åŒ…ä¿å­˜returnå¸¦å‡ºæ¥ã€‚<strong>å®ç°æ¨¡å—å¼€å‘ï¼Œé˜²æ­¢æ±¡æŸ“å…¨å±€å˜é‡</strong></p>
<p><br><br></p>
<h2 id="å¯¹è±¡çš„éå†"><a href="#å¯¹è±¡çš„éå†" class="headerlink" title="å¯¹è±¡çš„éå†"></a>å¯¹è±¡çš„éå†</h2><p>å¯¹è±¡éå†ä¸å¯èƒ½åƒéå†æ•°ç»„é‚£æ ·forå¾ªç¯ï¼Œå› ä¸ºæ ¹æœ¬ä¸çŸ¥é“å¯¹è±¡çš„â€œé•¿åº¦â€</p>
<p>æ‰€ä»¥è¦ä½¿ç”¨<code>for key in obj</code>çš„æ–¹æ³•ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'lin'</span>,</span><br><span class="line">  age: <span class="number">12</span>,</span><br><span class="line">  sex: <span class="string">"male"</span>,</span><br><span class="line">  height: <span class="number">180</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(obj[key]);<span class="comment">//è¿™é‡Œçš„æ¯ä¸€ä¸ªkeyæœ¬èº«éƒ½æ˜¯Stringç±»å‹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬çŸ¥é“<code>obj.xxx</code>å’Œ<code>obj[&#39;xxx&#39;]</code>éƒ½å¯ä»¥è®¿é—®åˆ°å¯¹è±¡å±æ€§ï¼Œä½†æ˜¯åœ¨<code>for key in obj</code>å¾ªç¯é‡Œå¿…é¡»åä¸€ç”¨<code>obj[&#39;xxx&#39;]</code>çš„æ–¹å¼è®¿é—®ï¼Œ<code>obj.xxx</code>è¾“å‡ºçš„ä¸ºundefined</p>
<p><code>obj.name</code>å®é™…ä¸Šæœ¬è´¨ä¼šå…ˆè½¬åŒ–ä¸º<code>obj[&#39;name&#39;]</code>ï¼Œç´¢å¼•æ¡†é‡Œå¿…é¡»æ˜¯å­—ç¬¦ä¸²ç±»å‹ã€‚</p>
<p>åœ¨ä¸Šé¢ä»£ç ä¸­å¦‚æœä½¿ç”¨<code>obj.xxx</code>çš„æ–¹å¼çš„è¯ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'lin'</span>,</span><br><span class="line">  age: <span class="number">12</span>,</span><br><span class="line">  sex: <span class="string">"male"</span>,</span><br><span class="line">  height: <span class="number">180</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(obj.key);<span class="comment">//è¿™é‡Œå˜æˆäº†obj['key'],å¯æ˜¯objä¸­æ²¡æœ‰keyè¿™ä¸ªé”®ï¼Œæ‰€ä»¥undefined</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>

<p><code>for key in obj</code>å¯ä»¥éå†å‡ºåŸå‹é‡Œçš„ä¸œè¥¿å—ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼ˆé™¤äº†Object.prototypeï¼‰ã€‚</p>
<p>ä½†æ˜¯æˆ‘å°±åªæƒ³éå†å‡ºç›®æ ‡å¯¹è±¡è‡ªå·±çš„å±æ€§ï¼Œæ€ä¹ˆåšï¼Ÿ</p>
<p><strong>åˆ©ç”¨<code>hasOwnProperty(xxx)</code>æ–¹æ³•æ¥åˆ¤æ–­<code>xxx</code>æ˜¯ä¸æ˜¯objè‡ªèº«çš„å±æ€§ã€‚</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'lin'</span>,</span><br><span class="line">  age: <span class="number">12</span>,</span><br><span class="line">  sex: <span class="string">"male"</span>,</span><br><span class="line">  height: <span class="number">180</span>,</span><br><span class="line">  __proto__: &#123;</span><br><span class="line">    hobby: <span class="string">"guitar"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="keyword">if</span> (obj.hasOwnProperty(key)) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(obj[key]);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><br></p>
<p>é™¤äº†<code>hasOwnProperty()</code>å¯ä»¥åˆ¤æ–­æ˜¯ä¸æ˜¯å±æ€§ï¼Œ<code>in</code>ä¹Ÿå¯ä»¥ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'height'</span> <span class="keyword">in</span> obj);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'hobby'</span> <span class="keyword">in</span> obj);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<p>âš æ³¨æ„ï¼š<code>hasOwnProperty()</code>æ˜¯åˆ¤æ–­æ˜¯ä¸æ˜¯å¯¹è±¡è‡ªå·±çš„éç»§æ‰¿å±æ€§ï¼Œ<code>in</code>æŒ‡åˆ¤æ–­æ˜¯ä¸æ˜¯å±æ€§ï¼Œä¸ç®¡æ˜¯ä¸æ˜¯ç»§æ‰¿æ¥çš„ã€‚</p>
<p><br></p>
<p>ğŸ’¡å†æ¥è¯´è¯´<code>instanceof</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A <span class="keyword">instanceof</span> B</span><br></pre></td></tr></table></figure>
<p>å®ƒçš„è¯­æ³•ç†è§£å°±æ˜¯ï¼š</p>
<p>â€‹    çœ‹Aå¯¹è±¡æ˜¯ä¸æ˜¯Bæ„é€ å‡½æ•°æ„é€ å‡ºæ¥çš„</p>
<p>â€‹    æ›´æ·±å±‚æ¬¡çš„ç†è§£æ˜¯çœ‹Aå¯¹è±¡çš„åŸå‹é“¾ä¸Šæœ‰æ²¡æœ‰Bçš„åŸå‹</p>
<p>åº”ç”¨ï¼šåˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡ï¼Ÿ</p>
<p>æ–¹æ³•ä¸€ï¼šçœ‹constructor</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570897037168.png" alt="1570897037168"></p>
<p>æ–¹æ³•äºŒï¼šç”¨instanceof</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570897168419.png" alt="1570897168419"></p>
<p>æ–¹æ³•ä¸‰ï¼šçœ‹toString()</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570897447379.png" alt="1570897447379"></p>
<p><br><br></p>
<h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><ul>
<li><p>å‡½æ•°é¢„ç¼–è¯‘è¿‡ç¨‹ä¸­  thisâ€”&gt;window</p>
</li>
<li><p>å…¨å±€ä½œç”¨åŸŸé‡Œ  thisâ€”&gt;window</p>
</li>
<li><p>call/applyå¯ä»¥æ”¹å˜å‡½æ•°è¿è¡Œæ—¶thisçš„æŒ‡å‘</p>
</li>
<li><p>obj.func();   func()é‡Œé¢çš„thisæŒ‡å‘objï¼›å³è°è°ƒç”¨thiså°±æŒ‡å‘è°</p>
</li>
</ul>
<p><br></p>
<p>è¿™é‡Œè¡¥å……ä¸€ä¸‹é¢„ç¼–è¯‘ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>Â <span class="title">test</span>(<span class="params">c</span>)Â </span>&#123;</span><br><span class="line">Â Â Â Â Â Â <span class="keyword">var</span>Â aÂ =Â <span class="number">123</span>;</span><br><span class="line">Â Â Â Â Â Â <span class="function"><span class="keyword">function</span>Â <span class="title">b</span>(<span class="params"></span>)Â </span>&#123;Â &#125;</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â  test(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570903506616.png" alt="1570903506616"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>Â <span class="title">test</span>(<span class="params">c</span>)Â </span>&#123;</span><br><span class="line">Â Â Â Â Â Â <span class="keyword">var</span>Â aÂ =Â <span class="number">123</span>;</span><br><span class="line">Â Â Â Â Â Â <span class="function"><span class="keyword">function</span>Â <span class="title">b</span>(<span class="params"></span>)Â </span>&#123;Â &#125;</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â <span class="keyword">new</span> test(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570903422900.png" alt="1570903422900"></p>
<p>ä¾‹é¢˜ğŸ‘‡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">"222"</span>;</span><br><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">  name: <span class="string">"111"</span>,</span><br><span class="line">  say: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> fun = a.say;</span><br><span class="line">fun()</span><br><span class="line">a.say()</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = &#123;</span><br><span class="line">  name: <span class="string">"333"</span>,</span><br><span class="line">  say: <span class="function"><span class="keyword">function</span> (<span class="params">fun</span>) </span>&#123;</span><br><span class="line">    fun()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">b.say(a.say);</span><br><span class="line">b.say = a.say;</span><br><span class="line">b.say();</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="number">123</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pr</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.foo = <span class="number">234</span>;<span class="comment">//thisæŒ‡å‘å…¨å±€window</span></span><br><span class="line">  <span class="built_in">console</span>.log(foo);</span><br><span class="line">&#125;</span><br><span class="line">pr();</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="number">123</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pr</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.foo = <span class="number">234</span>;<span class="comment">//thisæŒ‡å‘Object.create(pr.prototype)</span></span><br><span class="line">  <span class="built_in">console</span>.log(foo);<span class="comment">//123</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.foo);<span class="comment">//234</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">new</span> pr();</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  a = <span class="number">0</span>;</span><br><span class="line">  alert(a);</span><br><span class="line">  alert(<span class="keyword">this</span>.a);</span><br><span class="line">  <span class="keyword">var</span> a;</span><br><span class="line">  alert(a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test();<span class="comment">//0  5  0</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  a = <span class="number">0</span>;</span><br><span class="line">  alert(a);</span><br><span class="line">  alert(<span class="keyword">this</span>.a);</span><br><span class="line">  <span class="keyword">var</span> a;</span><br><span class="line">  alert(a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> test();<span class="comment">//0  undefined  0</span></span><br></pre></td></tr></table></figure>
<p><br><br></p>
<h2 id="arguments-calleeå’Œfunction-caller"><a href="#arguments-calleeå’Œfunction-caller" class="headerlink" title="arguments.calleeå’Œfunction.caller"></a>arguments.calleeå’Œfunction.caller</h2><p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570931723015.png" alt="1570931723015"></p>
<p><strong>callee</strong> æ˜¯ <code>arguments</code> å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ã€‚å®ƒå¯ä»¥ç”¨äºå¼•ç”¨è¯¥å‡½æ•°çš„å‡½æ•°ä½“å†…å½“å‰æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°ã€‚è¿™åœ¨å‡½æ•°çš„åç§°æ˜¯æœªçŸ¥æ—¶å¾ˆæœ‰ç”¨ï¼Œä¾‹å¦‚åœ¨æ²¡æœ‰åç§°çš„å‡½æ•°è¡¨è¾¾å¼ (ä¹Ÿç§°ä¸ºâ€œåŒ¿åå‡½æ•°â€)å†…ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ±‚é˜¶ä¹˜</span></span><br><span class="line">    <span class="keyword">var</span> num = (<span class="function"><span class="keyword">function</span> (<span class="params">n</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">arguments</span>.callee(n - <span class="number">1</span>) * n</span><br><span class="line">    &#125;)(<span class="number">100</span>)</span><br></pre></td></tr></table></figure>
<hr>

<p>æ¥è¯´è¯´<strong>Function.caller</strong>ã€‚</p>
<p>å¦‚æœä¸€ä¸ªå‡½æ•°<code>f</code>æ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸå†…è¢«è°ƒç”¨çš„,åˆ™<code>f.callerä¸º`</code>null<code>,ç›¸å,å¦‚æœä¸€ä¸ªå‡½æ•°æ˜¯åœ¨å¦å¤–ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸå†…è¢«è°ƒç”¨çš„,åˆ™</code>f.calleræŒ‡å‘è°ƒç”¨å®ƒçš„é‚£ä¸ªå‡½æ•°.`</p>
<p>âš è¯¥ç‰¹æ€§æ˜¯éæ ‡å‡†çš„ï¼Œå®˜æ–¹å»ºè®®ä¸è¦å†ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee.caller);</span><br><span class="line">&#125;</span><br><span class="line">test1();</span><br><span class="line"><span class="comment">//æ‰§è¡Œç»“æœä¸ºnull</span></span><br></pre></td></tr></table></figure>
<p><br></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  test2()</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee.caller);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee.caller === test1);</span><br><span class="line">&#125;</span><br><span class="line">test1();</span><br><span class="line"><span class="comment">//æ‰§è¡Œæ‰“å°ç»“æœä¸ºtest1å‡½æ•°ä½“å’Œtrue</span></span><br></pre></td></tr></table></figure>
<p><br><br></p>
<h2 id="æµ…å…‹éš†-æ·±å…‹éš†"><a href="#æµ…å…‹éš†-æ·±å…‹éš†" class="headerlink" title="æµ…å…‹éš†/æ·±å…‹éš†"></a>æµ…å…‹éš†/æ·±å…‹éš†</h2><p>ã€æµ…å…‹éš†ã€‘</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'abc'</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  sex: <span class="string">'male'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">origin, target</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> target = target || &#123;&#125;;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> origin) &#123;</span><br><span class="line">    target[key] = origin[key]</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> target;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> newObj = clone(obj);</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570935515334.png" alt="1570935515334"></p>
<p>æµ…å…‹éš†çš„åŸå§‹å€¼å±æ€§æ›´æ”¹ï¼Œå¦ä¸€ä¸ªå¯¹è±¡ä¸å—å½±å“ã€‚ä½†æ˜¯å¼•ç”¨å€¼å±æ€§ä¸€æ”¹å°±å…¨éƒ½æ”¹äº†ã€‚</p>
<p><img src="https://raw.githubusercontent.com/Dunteng/images/master/BlogImages/illustration/jsnote/1570936074035.png" alt="1570936074035"></p>
<p>ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜å°±éœ€è¦è¿›è¡Œ<strong>æ·±åº¦å…‹éš†</strong></p>
<p>æ€æƒ³ï¼š</p>
<ol>
<li>éå†å¯¹è±¡  <code>for (var prop in origin)</code></li>
<li>åˆ¤æ–­æ˜¯ä¸æ˜¯åŸå§‹å€¼ ï¼ŒåŒæ—¶æ’é™¤nullã€‚ <code>origin[prop] !== null &amp;&amp; typeof (origin[prop]) == &#39;object&#39;</code></li>
<li>åˆ¤æ–­æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡ï¼Œåˆ©ç”¨<code>Object.prototype.toStringcall(origin[prop])</code>æ–¹æ³•</li>
<li>å»ºç«‹ç›¸åº”çš„æ•°ç»„æˆ–å¯¹è±¡</li>
<li>é€’å½’</li>
</ol>
<p><br></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.num = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> person1 = &#123;</span><br><span class="line">  name: <span class="string">'zhang'</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  sex: <span class="string">'male'</span>,</span><br><span class="line">  say: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="number">666</span>); &#125;,</span><br><span class="line">  children: &#123;</span><br><span class="line">    first: &#123;</span><br><span class="line">      name: <span class="string">'zhang2'</span>,</span><br><span class="line">      age: <span class="number">11</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  car: [<span class="string">'Benz'</span>, <span class="string">'Mazda'</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person2 = deepClone(person1);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">origin, target</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> target = target || &#123;&#125;,</span><br><span class="line">    toStr = <span class="built_in">Object</span>.prototype.toString,</span><br><span class="line">    arrStr = <span class="string">"[object Array]"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> prop <span class="keyword">in</span> origin) &#123;</span><br><span class="line">    <span class="keyword">if</span> (origin.hasOwnProperty(prop)) &#123;</span><br><span class="line">      <span class="keyword">if</span> (origin[prop] !== <span class="literal">null</span> &amp;&amp; <span class="keyword">typeof</span> (origin[prop]) == <span class="string">'object'</span>) &#123;</span><br><span class="line">        target[prop] = toStr.call(origin[prop]) == arrStr ? [] : &#123;&#125;;</span><br><span class="line">        deepClone(origin[prop], target[prop]);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        target[prop] = origin[prop];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> target;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ğŸ’¡å¦å¤–è¿˜å¯ä»¥ä½¿ç”¨ JSON æ¥å®ç°æ·±åº¦å…‹éš†ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="built_in">JSON</span>.stringify(person1);</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="built_in">JSON</span>.parse(str);</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯jsonå…‹éš†æ— æ³•å…‹éš†æ–¹æ³•</p>
<p>haikyi</p>
<p><br></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JavaScript/" rel="tag"># JavaScript</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/10/28/é¢„ç¼–è¯‘-ä½œç”¨åŸŸ-é—­åŒ…-ç«‹å³æ‰§è¡Œå‡½æ•°.html" rel="next" title="å¤ä¹ é¢„ç¼–è¯‘-ä½œç”¨åŸŸ-é—­åŒ…-ç«‹å³æ‰§è¡Œå‡½æ•°">
                <i class="fa fa-chevron-left"></i> å¤ä¹ é¢„ç¼–è¯‘-ä½œç”¨åŸŸ-é—­åŒ…-ç«‹å³æ‰§è¡Œå‡½æ•°
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/11/22/hexoåšæ–‡ä¸­çš„å›¾æ–‡å¤–é“¾å¤±æ•ˆé—®é¢˜.html" rel="prev" title="hexoåšæ–‡ä¸­çš„å›¾æ–‡å¤–é“¾å¤±æ•ˆé—®é¢˜">
                hexoåšæ–‡ä¸­çš„å›¾æ–‡å¤–é“¾å¤±æ•ˆé—®é¢˜ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  
  </article>
  




    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="Dunteng Lin">
            
              <p class="site-author-name" itemprop="name">Dunteng Lin</p>
              <p class="site-description motion-element" itemprop="description">éƒ½ä¼šå¥½çš„  æ€»ä¼šæœ‰çš„</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">76</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">23</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">39</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/dunteng" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i></a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:2568678437@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i></a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://instagram.com/dunteng_lin" target="_blank" title="Instagram">
                      
                        <i class="fa fa-fw fa-instagram"></i></a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#å¯¹è±¡åˆ›å»ºæ–¹æ³•"><span class="nav-number">1.</span> <span class="nav-text">å¯¹è±¡åˆ›å»ºæ–¹æ³•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ„é€ å‡½æ•°çš„å†…éƒ¨åŸç†"><span class="nav-number">2.</span> <span class="nav-text">æ„é€ å‡½æ•°çš„å†…éƒ¨åŸç†</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åŒ…è£…ç±»"><span class="nav-number">3.</span> <span class="nav-text">åŒ…è£…ç±»</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åŸå‹prototype"><span class="nav-number">4.</span> <span class="nav-text">åŸå‹prototype</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åŸå‹é“¾"><span class="nav-number">5.</span> <span class="nav-text">åŸå‹é“¾</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#call-apply"><span class="nav-number">6.</span> <span class="nav-text">call/apply</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç»§æ‰¿"><span class="nav-number">7.</span> <span class="nav-text">ç»§æ‰¿</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å‘½åç©ºé—´"><span class="nav-number">8.</span> <span class="nav-text">å‘½åç©ºé—´</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å¯¹è±¡çš„éå†"><span class="nav-number">9.</span> <span class="nav-text">å¯¹è±¡çš„éå†</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#this"><span class="nav-number">10.</span> <span class="nav-text">this</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#arguments-calleeå’Œfunction-caller"><span class="nav-number">11.</span> <span class="nav-text">arguments.calleeå’Œfunction.caller</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æµ…å…‹éš†-æ·±å…‹éš†"><span class="nav-number">12.</span> <span class="nav-text">æµ…å…‹éš†/æ·±å…‹éš†</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" style="font-size:10px;">&copy; 2018 &mdash; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Dunteng Lin</span>

  
</div>







<div id="sitetime" style="font-size:10px;"></div>
<script language="javascript">
	function siteTime(){
		window.setTimeout("siteTime()", 1000);
		var seconds = 1000;
		var minutes = seconds * 60;
		var hours = minutes * 60;
		var days = hours * 24;
		var years = days * 365;
		var today = new Date();
		var todayYear = today.getFullYear();
		var todayMonth = today.getMonth()+1;
		var todayDate = today.getDate();
		var todayHour = today.getHours();
		var todayMinute = today.getMinutes();
		var todaySecond = today.getSeconds();
		/* Date.UTC() -- è¿”å›dateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³)
		year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼
		month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½
		day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•°
		hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•°
		minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•°
		seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•°
		microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */
		var t1 = Date.UTC(2017,08,12,15,15,47); //å»ºç«™æ—¶é—´
		var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond);
		var diff = t2-t1;
		var diffYears = Math.floor(diff/years);
		var diffDays = Math.floor((diff/days)-diffYears*365);
		var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours);
		var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes);
		var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds);
		document.getElementById("sitetime").innerHTML=" å·²è¿è¡Œ"+diffYears+" å¹´ "+diffDays+" å¤© "+diffHours+" å°æ—¶ "+diffMinutes+" åˆ†é’Ÿ "+diffSeconds+" ç§’";
	}
	siteTime();
</script>
        






        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: true,
        appId: 'J29bT1MHDnsDl0O48fRK6u7D-gzGzoHsz',
        appKey: '2ftsHD4VBWJQVASwv65waJNL',
        placeholder: 'æ¬¢è¿è¯„è®ºï¼Œè¯·åœ¨ä¸Šæ–¹ç•™ä¸‹ä½ çš„æ˜µç§°å’Œé‚®ç®±ä»¥ä¾¿æ”¶åˆ°æˆ‘çš„å›å¤é€šçŸ¥~',
        avatar:'retro',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('-1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  

  

</body>
</html>
